(function(e){function t(t){for(var n,i,c=t[0],o=t[1],u=t[2],d=0,p=[];d<c.length;d++)i=c[d],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&p.push(a[i][0]),a[i]=0;for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n]);l&&l(t);while(p.length)p.shift()();return s.push.apply(s,u||[]),r()}function r(){for(var e,t=0;t<s.length;t++){for(var r=s[t],n=!0,c=1;c<r.length;c++){var o=r[c];0!==a[o]&&(n=!1)}n&&(s.splice(t--,1),e=i(i.s=r[0]))}return e}var n={},a={app:0},s=[];function i(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=e,i.c=n,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(r,n,function(t){return e[t]}.bind(null,n));return r},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],o=c.push.bind(c);c.push=t,c=c.slice();for(var u=0;u<c.length;u++)t(c[u]);var l=o;s.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},1:function(e,t){},10:function(e,t){},11:function(e,t){},12:function(e,t){},13:function(e,t){},2:function(e,t){},2079:function(e,t,r){"use strict";r("4de4");var n={state:{list:null,lists:[],tasks:[],allTasks:[],loading:0,userData:{},view:"tasks",menuView:"",lastMenuView:"",lastView:""},setList:function(e){var t=this;this.state.list=e,this.state.tasks=this.state.allTasks.filter((function(e){return null===t.state.list||e.listid===t.state.list}))},setLists:function(e){this.state.lists=e},setTasks:function(e){this.state.allTasks=e},addLoading:function(e){this.state.loading+=e,this.state.loading<0&&(this.state.loading=0)},setLoading:function(e){this.state.loading=e},addTask:function(e){this.state.allTasks.push(e),e.listid!==this.state.list&&null!==this.state.list||this.state.tasks.push(e)},removeTask:function(e){this.state.allTasks=this.state.allTasks.filter((function(t){return t.taskid!==e.taskid})),this.state.tasks=this.state.tasks.filter((function(t){return t.taskid!==e.taskid}))},removeList:function(e){console.log("TODO - removelist")},addList:function(e){this.state.lists.push(e)},setAllLists:function(){this.state.tasks=this.state.allTasks},setUserData:function(e){this.state.userData=e},setView:function(e){this.state.lastView=e,this.state.view=e},setMenuView:function(e){this.state.lastMenuView=this.state.menuView,this.state.menuView=e},viewBack:function(){var e=this.state.lastView,t=this.state.lastMenuView;this.state.lastView=this.state.view,this.state.lastMenuView=this.state.menuView,this.state.view=e,this.state.menuView=t},getMode:function(){return localStorage.getItem("mode")},setMode:function(e){return e?localStorage.setItem("mode",e):localStorage.removeItem("mode")}};window.state=n,t["a"]=n},3:function(e,t){},4:function(e,t){},4385:function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"main"},[r("b-loading",{attrs:{active:0!==e.store.loading,"is-full-page":!0,"can-cancel":!1}}),r("section",{staticClass:"main-layout"},[r("Menu"),r("div",{staticClass:"main-content"},["tasks"===e.store.view?r("TaskList"):e._e(),"settings"===e.store.view?r("Settings"):e._e()],1)],1)],1)},a=[],s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("b-sidebar",{attrs:{position:"static",fullheight:"",mobile:"show",open:""}},[r("b-menu",{staticClass:"is-sidebar-menu"},[r("b-menu-list",{attrs:{label:e.$t("menu.label.lists")}},[r("b-menu-item",{attrs:{active:"allLists"===e.state.menuView,icon:"view-sequential",label:e.$t("menu.label.allLists")},on:{click:function(t){return e.allLists()}}}),e._l(e.state.lists,(function(t){return r("b-menu-item",{key:t.listid,attrs:{active:e.state.menuView===t.listid},on:{click:function(r){return e.setList(t.listid)}},scopedSlots:e._u([{key:"label",fn:function(){return[e._v(" "+e._s(t.name)+" "),r("b-dropdown",{staticClass:"is-pulled-right",attrs:{"aria-role":"list","append-to-body":""},scopedSlots:e._u([{key:"trigger",fn:function(){return[r("b-icon",{attrs:{icon:"dots-vertical"}})]},proxy:!0}],null,!0)},[r("b-dropdown-item",{attrs:{"aria-role":"listitem"},on:{click:function(r){return e.deleteList(t)}}},[e._v(" Delete list ")])],1)]},proxy:!0}],null,!0)})})),r("b-menu-item",{attrs:{tag:"a",icon:"plus",active:"newList"===e.state.menuView,label:e.$t("menu.label.newlist")},on:{click:e.newList}})],2),r("b-menu-list",{attrs:{label:e.$t("menu.label.actions")}},[r("b-menu-item",{attrs:{label:e.$t("menu.label.settings"),active:"settings"===e.state.menuView,icon:"settings"},on:{click:function(t){e.setView("settings"),e.setMenuView("settings")}}}),r("b-menu-item",{attrs:{label:e.$t("menu.label.logout"),active:"logout"===e.state.menuView,icon:"logout"},on:{click:e.logout}})],1)],1),r("div",{staticClass:"loadingindicator"},[r("b-loading",{attrs:{active:0!==e.db.updating,"can-cancel":!1,"is-full-page":!1}})],1)],1)},i=[],c=(r("d470"),r("2079")),o=r("44dd"),u=r("66e8"),l=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"modal-card",staticStyle:{width:"auto"}},[r("header",{staticClass:"modal-card-head"},[r("p",{staticClass:"modal-card-title"},[e._v(" "+e._s(e.$t("newlist.title"))+" ")])]),r("section",{staticClass:"modal-card-body"},[r("b-field",{attrs:{label:e.$t("newlist.label.name")}},[r("b-input",{attrs:{type:"text",placeholder:e.$t("newlist.placeholder.name"),required:""},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}})],1)],1),r("footer",{staticClass:"modal-card-foot"},[r("b-button",{attrs:{type:"is-primary"},on:{click:e.create}},[e._v(" "+e._s(e.$t("newlist.create"))+" ")]),r("b-button",{attrs:{type:"is-light"},on:{click:e.close}},[e._v(" "+e._s(e.$t("newlist.close"))+" ")])],1)])},d=[],p=(r("b0c0"),{name:"NewListModal",data:function(){return{name:""}},methods:{create:function(){console.log(this.$parent),this.close(),o["a"].newList({name:this.name})},close:function(){c["a"].viewBack(),this.$parent.close()}}}),h=p,f=r("2877"),g=Object(f["a"])(h,l,d,!1,null,null,null),b=g.exports,m={name:"Menu",data:function(){return{loading:!1,state:c["a"].state,db:u["a"],error:null,isActive:!0,newListProps:{listName:null},isModalActive:!1,currentElem:"allLists"}},methods:{setList:function(e){this.setView("tasks"),this.setMenuView(e),o["a"].setList(e)},logout:function(){this.setMenuView("logout"),o["a"].logout()},newList:function(){this.setMenuView("newList");this.$buefy.modal.open({parent:this,component:b,hasModalCard:!0,trapFocus:!0,onCancel:function(){console.log("Modal closed"),c["a"].viewBack()}})},setView:function(e){c["a"].setView(e)},setMenuView:function(e){c["a"].setMenuView(e)},allLists:function(){this.setView("lists"),this.setMenuView("allLists"),c["a"].setAllLists()},deleteList:function(e){o["a"].deleteList(e)}}},v=m,k=Object(f["a"])(v,s,i,!1,null,null,null),w=k.exports,x=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"tasks"},[r("div",{staticClass:"newtask"},[r("b-field",{staticClass:"name"},[r("b-input",{attrs:{placeholder:"New task",size:"is-medium"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.newTask(t)}},model:{value:e.newTaskValue,callback:function(t){e.newTaskValue=t},expression:"newTaskValue"}})],1),r("b-button",{attrs:{type:"is-primary",size:"is-medium","icon-right":"plus"},on:{click:e.newTask}})],1),r("div",{staticClass:"tasklist"},[e.store.tasks&&0!==e.store.tasks.length?r("div",{staticClass:"tasklist-content"},[r("draggable",{attrs:{group:"tasks"},on:{start:function(t){e.drag=!0},end:function(t){e.drag=!1},update:e.logEvent},model:{value:e.store.tasks,callback:function(t){e.$set(e.store,"tasks",t)},expression:"store.tasks"}},e._l(e.store.tasks,(function(t){return r("Task",{key:t.taskid,attrs:{task:t},on:{update:function(r){return e.updateTask(t)}}})})),1)],1):r("div",{staticClass:"is-flex",staticStyle:{"align-items":"center","justify-content":"center"}},[r("p",{staticStyle:{"text-align":"center"}},[e._v(" "+e._s(e.$t("tasklist.notasks"))+" ")])]),e.error?r("div",{staticClass:"error"},[e._v(" "+e._s(e.error)+" ")]):e._e()])])},y=[],O=r("310e"),j=r.n(O),_=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("article",{staticClass:"media"},[r("div",{staticClass:"task"},[r("div",{staticClass:"check"},[r("b-checkbox",{attrs:{size:"is-large",type:"is-success"},on:{input:function(t){return e.update()}},model:{value:e.task.done,callback:function(t){e.$set(e.task,"done",t)},expression:"task.done"}})],1),r("div",{staticClass:"name"},[e.editing_name?r("input",{directives:[{name:"model",rawName:"v-model",value:e.task.name,expression:"task.name"},{name:"focus",rawName:"v-focus"}],staticClass:"task input name",domProps:{value:e.task.name},on:{blur:function(t){e.editing_name=!1,e.update()},keyup:function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.editing_name=!1,e.update()},input:function(t){t.target.composing||e.$set(e.task,"name",t.target.value)}}}):r("div",[r("label",{on:{click:function(t){e.editing_name=!0}}},[r("strong",[e._v(" "+e._s(e.task.name)+" ")])])])]),r("div",{staticClass:"description"},[e.editing_desc?r("input",{directives:[{name:"model",rawName:"v-model",value:e.task.description,expression:"task.description"},{name:"focus",rawName:"v-focus"}],staticClass:"task input description",domProps:{value:e.task.description},on:{blur:function(t){e.editing_desc=!1,e.update()},keyup:function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.editing_desc=!1,e.update()},input:function(t){t.target.composing||e.$set(e.task,"description",t.target.value)}}}):r("div",[r("label",{attrs:{"aria-placeholder":"description"},on:{click:function(t){e.editing_desc=!0}}},[e._v(" "+e._s(e.task.description||e.$t("task.placeholder.description"))+" ")])])])])])},R=[],T={name:"Task",directives:{focus:{inserted:function(e){e.focus()}}},props:{task:{type:Object,default:function(){return{}}}},data:function(){return{editing_name:!1,editing_desc:!1}},methods:{update:function(){this.$emit("update")}}},L=T,C=Object(f["a"])(L,_,R,!1,null,null,null),E=C.exports,$={name:"Tasklist",components:{Task:E,draggable:j.a},data:function(){return{error:null,store:c["a"].state,newTaskValue:""}},methods:{newTask:function(e){console.log("Creating new task, ",e.target),e.target.blur(),o["a"].newTask({name:this.newTaskValue}),this.newTaskValue=""},updateTask:function(e){console.log("Updating task: ",e),o["a"].updateTask(e)},logEvent:function(e){console.log(e)}}},M=$,S=Object(f["a"])(M,x,y,!1,null,null,null),U=S.exports,P=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"settings is-fullwidth"},[r("section",[r("b-field",{attrs:{label:e.$t("settings.delete.label.password")}},[r("b-input",{attrs:{type:"password",placeholder:e.$t("settings.delete.placeholder.password"),"password-reveal":"",required:""},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1),r("b-button",{staticClass:"is-danger",on:{click:e.deleteAccount}},[e._v(" "+e._s(e.$t("settings.delete.label.delete"))+" ")])],1),r("section",[r("b-button",{staticClass:"is-primary",on:{click:e.openPayments}},[e._v(" "+e._s(e.$t("settings.payments"))+" ")])],1),"online"===e.mode?r("section",[r("p",{staticClass:"is-size-3"},[e._v(" "+e._s(e.$t("settings.migrate.title.import"))+" ")]),r("div",{staticClass:"columns"},[r("div",{staticClass:"column"},[r("p",[e._v(e._s(e.$t("settings.migrate.info.import")))]),r("b-button",{staticClass:"is-danger",on:{click:function(t){return e.migrate("import")}}},[e._v(" "+e._s(e.$t("settings.migrate.button.import"))+" ")])],1),r("div",{staticClass:"column"},[r("p",[e._v(e._s(e.$t("settings.migrate.info.export")))]),r("b-button",{staticClass:"is-danger",on:{click:function(t){return e.migrate("export")}}},[e._v(" "+e._s(e.$t("settings.migrate.button.export"))+" ")])],1)])]):e._e()])},V=[],A={name:"Settings",data:function(){return{store:c["a"].state,password:""}},computed:{mode:c["a"].getMode},methods:{deleteAccount:function(e){o["a"].deleteAccount(this.password)},openPayments:function(){this.$router.push("/payments")},migrate:function(e){o["a"].migrate(e)}}},I=A,D=Object(f["a"])(I,P,V,!1,null,null,null),K=D.exports,N=(r("e7b1"),{name:"MainPage",components:{Menu:w,TaskList:U,Settings:K},data:function(){return{loading:!1,store:c["a"].state,error:null,isActive:!0}},lists:{},mounted:function(){var e=this;console.log("Mounted"),this.$nextTick((function(){o["a"].initialLoad(e)}))},methods:{open:function(e){this.$electron.shell.openExternal(e)}}}),q=N,z=Object(f["a"])(q,n,a,!1,null,null,null);t["default"]=z.exports},"44dd":function(e,t,r){"use strict";r("4160"),r("d3b7"),r("25f0"),r("159b"),r("96cf");var n=r("1da1"),a=r("d4ec"),s=r("ade3"),i=r("56d7"),c=r("d470"),o=r("2079"),u=r("a18c"),l=r("e7b1"),d=r("66e8"),p=(r("ac1f"),r("5319"),r("bf8a")),h=function e(){var t=this;Object(a["a"])(this,e),Object(s["a"])(this,"init",Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(p["a"])("pk_test_9PEe48tGkcyxICp3juCtFr3M00fFSbjMnc");case 2:t.stripe=e.sent;case 3:case"end":return e.stop()}}),e)})))),Object(s["a"])(this,"goToCheckout",function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(r){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.stripe.redirectToCheckout({sessionId:r});case 2:if(n=e.sent,a=n.error,!a){e.next=6;break}throw a.message;case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Object(s["a"])(this,"goToPortal",function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:window.location.replace(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},f=new h,g=r("aced"),b=r("11c1"),m=function e(){var t=this;Object(a["a"])(this,e),Object(s["a"])(this,"warnConsolePasting",(function(){console.warn("%cSTOP!","color:#000;background-color:#faa;font-size:20em"),console.warn("%cThe developer tools are intended for developers. If you have been told by someone to paste or type anything here, there is a 200% chance that they're trying to scam you.","color: #000; font-size:x-large;"),console.warn("%cTo stay safe, close this side-bar. ","color:#000;font-size:xx-large;"),console.warn("%cIf you want to learn more, visit https://en.wikipedia.org/wiki/Self-XSS","color: #6; font-size:large;")})),Object(s["a"])(this,"loadTasks",Object(n["a"])(regeneratorRuntime.mark((function e(){var r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d["a"].getTasks();case 3:return r=e.sent,e.next=6,l["a"].decryptArray(r,null,l["a"].decryptObj);case 6:n=e.sent,o["a"].setTasks(n),e.next=14;break;case 10:e.prev=10,e.t0=e["catch"](0),console.warn(e.t0),t.showError(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})))),Object(s["a"])(this,"loadLists",Object(n["a"])(regeneratorRuntime.mark((function e(){var r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d["a"].getLists();case 3:return r=e.sent,e.next=6,l["a"].decryptArray(r,null,l["a"].decryptObj);case 6:n=e.sent,o["a"].setLists(n),e.next=14;break;case 10:e.prev=10,e.t0=e["catch"](0),console.warn(e.t0),t.showError(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})))),Object(s["a"])(this,"newSubscription",Object(n["a"])(regeneratorRuntime.mark((function e(){var r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,c["a"].getNewSubscription();case 2:return r=e.sent,e.next=5,t.stripe.redirectToCheckout({sessionId:r});case 5:n=e.sent,console.log(n),n.error&&(console.log(n.error),t.showError("error.payments"));case 8:case"end":return e.stop()}}),e)})))),Object(s["a"])(this,"sendKey",Object(n["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("Sending key"),e.next=3,l["a"].sendKey();case 3:return t=e.sent,e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})))),Object(s["a"])(this,"fetchKey",function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("Getting key"),e.next=3,l["a"].fetchKey(t);case 3:return r=e.sent,u["a"].push("/"),e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Object(s["a"])(this,"syncTasks",Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.loadTasks();case 2:case"end":return e.stop()}}),e)})))),Object(s["a"])(this,"initialLoad",function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(r){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,"local"!==o["a"].getMode()){e.next=8;break}if(o["a"].addLoading(1),null!==l["a"].getEncryptionKey()){e.next=6;break}return e.next=6,l["a"].createEncryptionKey();case 6:e.next=9;break;case 8:o["a"].addLoading(1);case 9:return e.next=11,d["a"].sync();case 11:return e.next=13,t.loadTasks();case 13:return e.next=15,t.loadLists();case 15:o["a"].setList(null),o["a"].setMenuView("allLists"),o["a"].setView("tasks"),o["a"].addLoading(-1),e.next=25;break;case 21:e.prev=21,e.t0=e["catch"](0),t.showError(e.t0),o["a"].addLoading(-1);case 25:case"end":return e.stop()}}),e,null,[[0,21]])})));return function(t){return e.apply(this,arguments)}}()),Object(s["a"])(this,"deleteAccount",function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(r){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,"string"!==typeof r){e.next=7;break}return e.next=4,c["a"].deleteAccount();case 4:t.logout(),e.next=8;break;case 7:throw"err.deleteAccount.invalidpassword";case 8:e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](0),t.showError(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()),Object(s["a"])(this,"newTask",function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(r){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,r.taskid=Object(b["v4"])(),r.listid=o["a"].state.list,r.userid=c["a"].getUserID(),o["a"].addTask(r),e.next=7,l["a"].encryptObj(r);case 7:return n=e.sent,e.next=10,d["a"].addTask(n,!0);case 10:e.next=16;break;case 12:e.prev=12,e.t0=e["catch"](0),o["a"].removeTask(r),t.showError(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}()),Object(s["a"])(this,"updateTask",function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(r){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l["a"].encryptObj(r);case 3:return n=e.sent,e.next=6,d["a"].updateTask(n,!0);case 6:e.next=12;break;case 8:e.prev=8,e.t0=e["catch"](0),o["a"].removeTask(r),t.showError(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()),Object(s["a"])(this,"deleteTask",function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(r){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,o["a"].removeTask(r),e.next=4,l["a"].encryptObj(r);case 4:return e.sent,e.next=7,d["a"].deleteTask(r,!0);case 7:e.next=13;break;case 9:e.prev=9,e.t0=e["catch"](0),o["a"].addTask(r),t.showError(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()),Object(s["a"])(this,"deleteList",function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(r){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,o["a"].removeList(r),e.next=4,l["a"].encryptObj(r);case 4:return e.sent,e.next=7,d["a"].deleteList(r,!0);case 7:e.next=13;break;case 9:e.prev=9,e.t0=e["catch"](0),o["a"].addList(r),t.showError(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()),Object(s["a"])(this,"newList",function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(r){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,r.listid=Object(b["v4"])(),r.userid=c["a"].getUserID(),o["a"].addList(r),o["a"].setList(r.listid),o["a"].setMenuView(r.listid),o["a"].setView("tasks"),e.next=9,l["a"].encryptObj(r);case 9:return n=e.sent,e.next=12,d["a"].addList(n,!0);case 12:e.next=19;break;case 14:e.prev=14,e.t0=e["catch"](0),t.showError(e.t0),o["a"].removeList(r),o["a"].viewBack();case 19:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t){return e.apply(this,arguments)}}()),Object(s["a"])(this,"setList",function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:o["a"].setList(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Object(s["a"])(this,"login",function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(r){var n,a,s,i,d,p,h,f,g,b;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,n=r.username,a=r.password,n&&a){e.next=4;break}throw"error.login.notfilled";case 4:return o["a"].addLoading(1),e.next=7,l["a"].createEphemeral();case 7:return s=e.sent,e.next=10,c["a"].loginSalt(n,s);case 10:return i=e.sent,d=i.salt,p=i.serverEphemeralPublic,e.next=15,l["a"].createSession(n,a,d,p);case 15:return h=e.sent,e.next=18,c["a"].loginToken(n,h);case 18:if(f=e.sent,g=f.token,b=f.key,o["a"].addLoading(-1),null===g){e.next=29;break}return c["a"].setToken(g),e.next=26,l["a"].setEncryptionKeyWithPass(a,b);case 26:u["a"].push("/"),e.next=30;break;case 29:t.showError("error.login.notoken");case 30:e.next=36;break;case 32:e.prev=32,e.t0=e["catch"](0),t.showError(e.t0),o["a"].addLoading(-1);case 36:case"end":return e.stop()}}),e,null,[[0,32]])})));return function(t){return e.apply(this,arguments)}}()),Object(s["a"])(this,"register",function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(r){var n,a,s,i,d,p,h;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,n=r.username,a=r.password,n&&a){e.next=4;break}throw"error.register.notfilled";case 4:return o["a"].addLoading(1),e.next=7,l["a"].createVerifier(n,a);case 7:return s=e.sent,i=s.salt,d=s.verifier,e.next=12,c["a"].register(n,i,d);case 12:if(p=e.sent,o["a"].addLoading(-1),null===p){e.next=26;break}return c["a"].setToken(p),e.next=18,l["a"].createEncryptionKey();case 18:return e.next=20,l["a"].getEncryptionKeyWithPass(a);case 20:return h=e.sent,e.next=23,c["a"].sendKey(h);case 23:u["a"].push("/"),e.next=27;break;case 26:t.showError("error.register.notoken");case 27:e.next=33;break;case 29:e.prev=29,e.t0=e["catch"](0),t.showError(e.t0),o["a"].addLoading(-1);case 33:case"end":return e.stop()}}),e,null,[[0,29]])})));return function(t){return e.apply(this,arguments)}}()),Object(s["a"])(this,"logout",Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:c["a"].logout(),o["a"].setTasks([]),o["a"].setLists([]),u["a"].push("/");case 4:case"end":return e.stop()}}),e)})))),Object(s["a"])(this,"showError",(function(e){e=e.toString();var t=i["default"].$t(e);g["a"].open({message:t,type:"is-danger",duration:5e3,queue:!1})})),Object(s["a"])(this,"paymentPortal",Object(n["a"])(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c["a"].getPaymentPortal();case 3:r=e.sent,f.goToPortal(r),e.next=11;break;case 7:e.prev=7,e.t0=e["catch"](0),console.warn(e.t0),t.showError(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))),Object(s["a"])(this,"checkout",Object(n["a"])(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c["a"].getCheckout();case 3:r=e.sent,f.goToCheckout(r),e.next=11;break;case 7:e.prev=7,e.t0=e["catch"](0),console.warn(e.t0),t.showError(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))),Object(s["a"])(this,"migrate",function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(r){var n,a,s,i,o,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("import"!==r){e.next=25;break}return e.next=3,d["a"].getTasks("local");case 3:return s=e.sent,e.next=6,l["a"].reencrypt("local",c["a"].getUserID(),s,l["a"].encryptArray,l["a"].decryptArray);case 6:return n=e.sent,n=t.replaceArrayUserID(n,c["a"].getUserID()),e.next=10,d["a"].getLists("local");case 10:return i=e.sent,e.next=13,l["a"].reencrypt("local",c["a"].getUserID(),i,l["a"].encryptArray,l["a"].decryptArray);case 13:return a=e.sent,a=t.replaceArrayUserID(a,c["a"].getUserID()),e.next=17,d["a"].putArray(n,"tasks");case 17:return e.next=19,d["a"].putArray(a,"lists");case 19:return e.next=21,d["a"].sync();case 21:return e.next=23,t.initialLoad();case 23:e.next=44;break;case 25:if("export"!==r){e.next=44;break}return e.next=28,d["a"].getTasks();case 28:return o=e.sent,e.next=31,l["a"].reencrypt(c["a"].getUserID(),"local",o,l["a"].encryptArray,l["a"].decryptArray);case 31:return n=e.sent,n=t.replaceArrayUserID(n,"local"),e.next=35,d["a"].getLists();case 35:return u=e.sent,e.next=38,l["a"].reencrypt(c["a"].getUserID(),"local",u,l["a"].encryptArray,l["a"].decryptArray);case 38:return a=e.sent,a=t.replaceArrayUserID(a,c["a"].getUserID()),e.next=42,d["a"].putArray(n,"tasks");case 42:return e.next=44,d["a"].putArray(a,"lists");case 44:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Object(s["a"])(this,"replaceArrayUserID",(function(e,t){var r=[];return e.forEach((function(e){e.userid=t,r.push(e)})),r})),f.init(),this.warnConsolePasting()};t["a"]=new m},"49f8":function(e,t,r){var n={"./en.json":"edd4"};function a(e){var t=s(e);return r(t)}function s(e){if(!r.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}a.keys=function(){return Object.keys(n)},a.resolve=s,e.exports=a,a.id="49f8"},5:function(e,t){},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d"),r("5363");var n=r("2b0e"),a=r("289d"),s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"is-flex has-direction-column is-viewport-height",attrs:{id:"app"}},[r("router-view")],1)},i=[],c={name:"Ticked"},o=c,u=r("2877"),l=Object(u["a"])(o,s,i,!1,null,null,null),d=l.exports,p=r("a18c"),h=(r("4160"),r("d3b7"),r("ac1f"),r("466d"),r("159b"),r("ddb0"),r("a925"));function f(){var e=r("49f8"),t={};return e.keys().forEach((function(r){var n=r.match(/([A-Za-z0-9-_]+)\./i);if(n&&n.length>1){var a=n[1];t[a]=e(r)}})),t}n["a"].use(h["a"]);var g=new h["a"]({locale:"en",fallbackLocale:"en",messages:f()});r("f669");n["a"].config.productionTip=!1,n["a"].use(a["a"]);t["default"]=new n["a"]({router:p["a"],i18n:g,render:function(e){return e(d)}}).$mount("#app")},"5f9a":function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",{staticClass:"section"},[r("p",{staticClass:"has-text-centered is-size-2"},[e._v(" "+e._s(e.$t("modeselect.title"))+" ")]),r("div",{staticClass:"container"},[r("div",{staticClass:"columns"},[r("div",{staticClass:"column is-half"},[r("article",{staticClass:"box notification is-primary"},[r("div",{staticClass:"buttons"},[r("b-button",{attrs:{type:"is-primary",size:"is-large",inverted:"",expanded:""},on:{click:function(t){return e.select("local")}}},[e._v(" "+e._s(e.$t("modeselect.button.local"))+" ")])],1)])]),r("div",{staticClass:"column is-half"},[r("article",{staticClass:"box notification is-info"},[r("div",{staticClass:"buttons"},[r("b-button",{attrs:{type:"is-info",size:"is-large",inverted:"",expanded:""},on:{click:function(t){return e.select("online")}}},[e._v(" "+e._s(e.$t("modeselect.button.online"))+" ")])],1)])])])])])},a=[],s=(r("96cf"),r("1da1")),i=r("2079"),c={data:function(){return{selectedMode:"login"}},methods:{select:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:i["a"].setMode(e),t.$router.push("/");case 2:case"end":return r.stop()}}),r)})))()}}},o=c,u=r("2877"),l=Object(u["a"])(o,n,a,!1,null,null,null);t["default"]=l.exports},6:function(e,t){},"66e8":function(e,t,r){"use strict";r("7db0"),r("4160"),r("159b"),r("96cf");var n=r("1da1"),a=r("d4ec"),s=r("ade3"),i=r("d470"),c=r("4dec"),o=new c["a"]("ticked-db");o.version(1).stores({tasks:"&taskid, userid, listid",lists:"&listid, userid"});var u=o,l=r("2079"),d=5,p=function e(){var t=this;Object(a["a"])(this,e),Object(s["a"])(this,"checkUpdate",Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.ready){e.next=2;break}return e.abrupt("return");case 2:if(!t.needsUpdate){e.next=8;break}return t.updating++,e.next=6,t.sync();case 6:e.next=11;break;case 8:if(!(t.getTime()-t.lastUpdateTime>6e4*d)){e.next=11;break}return e.next=11,t.sync();case 11:case"end":return e.stop()}}),e)})))),Object(s["a"])(this,"sync",Object(n["a"])(regeneratorRuntime.mark((function e(){var r,n,a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.ready){e.next=2;break}throw"error.database.notready";case 2:if("online"!==l["a"].getMode()){e.next=31;break}return e.prev=3,e.next=6,i["a"].getTasks();case 6:return r=e.sent,e.next=9,i["a"].getLists();case 9:return n=e.sent,e.next=12,t.getTasks();case 12:return a=e.sent,e.next=15,t.getLists();case 15:return s=e.sent,e.next=18,t.syncTasks(a,r);case 18:return e.next=20,t.syncLists(s,n);case 20:t.updateHandler&&t.updateHandler(),t.needsUpdate=!1,t.updating=0,t.lastUpdateTime=t.getTime(),e.next=29;break;case 26:e.prev=26,e.t0=e["catch"](3),console.error(e.t0);case 29:e.next=33;break;case 31:t.updating=0,t.needsUpdate=!1;case 33:case"end":return e.stop()}}),e,null,[[3,26]])})))),Object(s["a"])(this,"syncTasks",function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(r,n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.ready){e.next=2;break}throw"error.database.notready";case 2:r&&r.forEach((function(e){var r=n.find((function(t){return t.userid===e.userid&&t.taskid===e.taskid}));r?r.modified<e.modified?i["a"].updateTask(e):r.modified>e.modified?t.updateTask(r):r.modified===e.modified===void 0&&t.updateTask(e):i["a"].addTask(e)})),n&&n.forEach((function(e){if(r){var n=r.find((function(t){return t.userid===e.userid&&t.taskid===e.taskid}));n||t.addTask(e)}else t.addTask(e)}));case 4:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()),Object(s["a"])(this,"syncLists",function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(r,n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.ready){e.next=2;break}throw"error.database.notready";case 2:r&&r.forEach((function(e){var r=n.find((function(t){return t.userid===e.userid&&t.listid===e.listid}));r?r.modified<e.modified?i["a"].updateList(e):r.modified>e.modified?t.updateList(r):r.modified===e.modified===void 0&&t.updateList(e):i["a"].addList(e)})),n&&n.forEach((function(e){if(r){var n=r.find((function(t){return t.userid===e.userid&&t.listid===e.listid}));n||t.addList(e)}else t.addList(e)}));case 4:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()),Object(s["a"])(this,"onUpdate",(function(e){t.updateHandler=e})),Object(s["a"])(this,"getTime",(function(){return Date.now()})),Object(s["a"])(this,"getTasks",Object(n["a"])(regeneratorRuntime.mark((function e(){var r,n=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=n.length>0&&void 0!==n[0]?n[0]:i["a"].getUserID(),t.ready){e.next=3;break}throw"error.database.notready";case 3:return e.abrupt("return",u.tasks.where("userid").equals(r).toArray());case 4:case"end":return e.stop()}}),e)})))),Object(s["a"])(this,"getLists",Object(n["a"])(regeneratorRuntime.mark((function e(){var r,n=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=n.length>0&&void 0!==n[0]?n[0]:i["a"].getUserID(),t.ready){e.next=3;break}throw"error.database.notready";case 3:return e.abrupt("return",u.lists.where("userid").equals(r).toArray());case 4:case"end":return e.stop()}}),e)})))),Object(s["a"])(this,"deleteList",function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(r){var n,a,s=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=s.length>1&&void 0!==s[1]&&s[1],t.updating++,e.prev=2,a={listid:r.taskid,userid:r.userid,deleted:!0,modified:t.getTime()},t.updateList(a),!n||"online"!==l["a"].getMode()){e.next=18;break}return e.prev=6,e.next=9,i["a"].updateList(a);case 9:t.updating--,e.next=16;break;case 12:e.prev=12,e.t0=e["catch"](6),t.needsUpdate=!0,t.checkUpdate();case 16:e.next=19;break;case 18:"local"===l["a"].getMode()&&t.updating--;case 19:e.next=25;break;case 21:throw e.prev=21,e.t1=e["catch"](2),console.warn(e.t1),"error.database.deletetask";case 25:case"end":return e.stop()}}),e,null,[[2,21],[6,12]])})));return function(t){return e.apply(this,arguments)}}()),Object(s["a"])(this,"deleteTask",function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(r){var n,a,s=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=s.length>1&&void 0!==s[1]&&s[1],t.updating++,t.ready){e.next=4;break}throw"error.database.notready";case 4:if(e.prev=4,a={taskid:r.taskid,userid:r.userid,deleted:!0,modified:t.getTime()},t.updateTask(a),!n||"online"!==l["a"].getMode()){e.next=20;break}return e.prev=8,e.next=11,i["a"].updateTask(a);case 11:t.updating--,e.next=18;break;case 14:e.prev=14,e.t0=e["catch"](8),t.needsUpdate=!0,t.checkUpdate();case 18:e.next=21;break;case 20:"local"===l["a"].getMode()&&t.updating--;case 21:e.next=27;break;case 23:throw e.prev=23,e.t1=e["catch"](4),console.warn(e.t1),"error.database.deletetask";case 27:case"end":return e.stop()}}),e,null,[[4,23],[8,14]])})));return function(t){return e.apply(this,arguments)}}()),Object(s["a"])(this,"addTask",function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(r){var n,a=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=a.length>1&&void 0!==a[1]&&a[1],t.updating++,t.ready){e.next=4;break}throw"error.database.notready";case 4:return e.prev=4,r.modified=t.getTime(),e.next=8,u.tasks.add(r);case 8:if(!n||"online"!==l["a"].getMode()){e.next=21;break}return e.prev=9,e.next=12,i["a"].addTask(r);case 12:t.updating--,e.next=19;break;case 15:e.prev=15,e.t0=e["catch"](9),t.needsUpdate=!0,t.checkUpdate();case 19:e.next=22;break;case 21:"local"===l["a"].getMode()&&t.updating--;case 22:e.next=28;break;case 24:throw e.prev=24,e.t1=e["catch"](4),console.warn(e.t1),"error.database.addtask";case 28:case"end":return e.stop()}}),e,null,[[4,24],[9,15]])})));return function(t){return e.apply(this,arguments)}}()),Object(s["a"])(this,"updateTask",function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(r){var n,a=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=a.length>1&&void 0!==a[1]&&a[1],t.updating++,t.ready){e.next=4;break}throw"error.database.notready";case 4:return e.prev=4,r.modified=t.getTime(),e.next=8,u.tasks.put(r);case 8:if(!n||"online"!==l["a"].getMode()){e.next=21;break}return e.prev=9,e.next=12,i["a"].updateTask(r);case 12:t.updating--,e.next=19;break;case 15:e.prev=15,e.t0=e["catch"](9),t.needsUpdate=!0,t.checkUpdate();case 19:e.next=22;break;case 21:"local"===l["a"].getMode()&&t.updating--;case 22:e.next=28;break;case 24:throw e.prev=24,e.t1=e["catch"](4),console.warn(e.t1),"error.database.updatetask";case 28:case"end":return e.stop()}}),e,null,[[4,24],[9,15]])})));return function(t){return e.apply(this,arguments)}}()),Object(s["a"])(this,"addList",function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(r){var n,a=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=a.length>1&&void 0!==a[1]&&a[1],t.updating++,t.ready){e.next=4;break}throw"error.database.notready";case 4:return e.prev=4,r.modified=t.getTime(),e.next=8,u.lists.add(r);case 8:if(!n||"online"!==l["a"].getMode()){e.next=21;break}return e.prev=9,e.next=12,i["a"].addList(r);case 12:t.updating--,e.next=19;break;case 15:e.prev=15,e.t0=e["catch"](9),t.needsUpdate=!0,t.checkUpdate();case 19:e.next=22;break;case 21:"local"===l["a"].getMode()&&t.updating--;case 22:e.next=28;break;case 24:throw e.prev=24,e.t1=e["catch"](4),console.warn(e.t1),"error.database.newlist";case 28:case"end":return e.stop()}}),e,null,[[4,24],[9,15]])})));return function(t){return e.apply(this,arguments)}}()),Object(s["a"])(this,"putArray",function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t,r){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("tasks"!==r){e.next=5;break}return e.next=3,u.tasks.bulkPut(t);case 3:e.next=11;break;case 5:if("lists"!==r){e.next=10;break}return e.next=8,u.lists.bulkPut(t);case 8:e.next=11;break;case 10:throw new Error("Invalid query to putarray - invalid target");case 11:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()),this.needsUpdate=!0,this.updating=1,this.updateHandler=null,this.lastUpdateTime=0,this.ready=!0,"online"===l["a"].getMode()&&setInterval(this.checkUpdate,5e3)};t["a"]=new p},7:function(e,t){},8:function(e,t){},9:function(e,t){},a18c:function(e,t,r){"use strict";var n=r("2b0e"),a=r("8c4f"),s=r("d470"),i=r("2079");n["a"].use(a["a"]);var c=[{path:"/login",name:"Login",component:r("a55b").default,props:!0},{path:"/main",name:"Main",component:r("4385").default,props:!0},{path:"/payments",name:"Payments",component:r("b755").default,props:!0},{path:"/modeSelect",name:"ModeSelect",component:r("5f9a").default,props:!0},{path:"/",name:"redirect",redirect:function(e){var t=i["a"].getMode();return console.log(t),"online"===t?s["a"].isLoggedIn()?{name:"Main"}:{name:"Login"}:"local"===t?{name:"Main"}:{name:"ModeSelect"}}}],o=new a["a"]({mode:"hash",base:"/",routes:c});t["a"]=o},a55b:function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"columns is-fullheight is-centered is-vcentered"},[r("a",{staticClass:"login link modeselect",on:{click:e.modeSelect}},[e._v(" "+e._s(e.$t("login.link.modeselect"))+" ")]),r("div",{staticClass:"is-login column is-half is-vcentered"},[r("b-loading",{attrs:{active:0!==e.store.loading,"is-full-page":!0,"can-cancel":!1}}),e.error?r("b-notification",{attrs:{type:"is-danger"}},[e._v(" "+e._s(e.$t(e.error))+" ")]):e._e(),"login"===e.mode?r("div",{on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.login(t)}}},[r("b-field",{attrs:{label:e.$t("login.label.user")}},[r("b-input",{attrs:{type:"text",placeholder:e.$t("login.placeholder.user"),required:""},model:{value:e.login_user,callback:function(t){e.login_user=t},expression:"login_user"}})],1),r("b-field",{attrs:{label:e.$t("login.label.password")}},[r("b-input",{attrs:{type:"password",placeholder:e.$t("login.placeholder.password"),"password-reveal":"",required:""},model:{value:e.login_password,callback:function(t){e.login_password=t},expression:"login_password"}})],1),r("b-button",{attrs:{expanded:"",type:"is-primary"},on:{click:e.login}},[e._v(" "+e._s(e.$t("login.label.login"))+" ")]),r("a",{on:{click:function(t){return e.switchTo("register")}}},[e._v(" "+e._s(e.$t("login.link.register"))+" ")])],1):e._e(),"register"===e.mode?r("div",{on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.register(t)}}},[r("b-field",{attrs:{label:e.$t("register.label.username")}},[r("b-input",{attrs:{type:"text",placeholder:e.$t("register.placeholder.username"),required:""},model:{value:e.register_username,callback:function(t){e.register_username=t},expression:"register_username"}})],1),r("b-field",{attrs:{label:e.$t("register.label.password")}},[r("b-input",{attrs:{type:"password",placeholder:e.$t("register.placeholder.password"),"password-reveal":"",required:""},model:{value:e.register_password,callback:function(t){e.register_password=t},expression:"register_password"}})],1),r("b-button",{attrs:{expanded:"",type:"is-primary"},on:{click:e.register}},[e._v(" "+e._s(e.$t("register.label.register"))+" ")]),r("a",{on:{click:function(t){return e.switchTo("login")}}},[e._v(" "+e._s(e.$t("register.link.login"))+" ")])],1):e._e()],1)])},a=[],s=(r("96cf"),r("1da1")),i=(r("d470"),r("2079")),c=r("44dd"),o={data:function(){return{login_user:"",login_password:"",register_username:"",register_password:"",register_email:"",store:i["a"].state,mode:"login",error:""}},methods:{login:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.error="",t.prev=1,t.next=4,c["a"].login({username:e.login_user,password:e.login_password});case 4:t.sent,t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](1),e.error=t.t0;case 10:e.clearForms();case 11:case"end":return t.stop()}}),t,null,[[1,7]])})))()},register:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.error="",t.prev=1,t.next=4,c["a"].register({password:e.register_password,email:e.register_email,username:e.register_username});case 4:t.next=9;break;case 6:t.prev=6,t.t0=t["catch"](1),e.error=t.t0;case 9:e.clearForms();case 10:case"end":return t.stop()}}),t,null,[[1,6]])})))()},switchTo:function(e){this.mode=e,this.error=null,this.clearForms()},clearForms:function(){this.register_email="",this.register_password="",this.register_username="",this.login_user="",this.login_password=""},modeSelect:function(){this.$router.push("/modeSelect")}}},u=o,l=r("2877"),d=Object(l["a"])(u,n,a,!1,null,null,null);t["default"]=d.exports},b755:function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"tile is-ancestor main-content"},[r("div",{staticClass:"tile is-parent is-vertical"},[r("article",{staticClass:"tile is-child is-info box notification",on:{click:function(t){return e.openPortal()}}},[r("p",{staticClass:"title"},[e._v(" "+e._s(e.$t("payments.portal"))+" ")])]),r("article",{staticClass:"tile is-child notification box is-danger",on:{click:function(t){return e.back()}}},[r("p",{staticClass:"title"},[e._v(" "+e._s(e.$t("payments.back"))+" ")])])]),r("div",{staticClass:"tile is-parent"},[r("article",{staticClass:"tile is-child is-success box notification",on:{click:function(t){return e.openCheckout()}}},[r("p",{staticClass:"title"},[e._v(" "+e._s(e.$t("payments.checkout"))+" ")])])])])},a=[],s=r("44dd"),i={name:"Payments",components:{},data:function(){return{}},methods:{openPortal:function(){s["a"].paymentPortal()},openCheckout:function(){s["a"].checkout()},back:function(){this.$router.push("/main")}}},c=i,o=r("2877"),u=Object(o["a"])(c,n,a,!1,null,null,null);t["default"]=u.exports},d470:function(e,t,r){"use strict";var n=r("5530"),a=(r("96cf"),r("1da1")),s=r("d4ec"),i=r("ade3"),c=r("04e1"),o=r.n(c),u=r("bc3a"),l=r.n(u),d=r("2079"),p="https://api.ticked.jusola.xyz",h=function e(){var t=this;Object(s["a"])(this,e),Object(i["a"])(this,"loginSalt",function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(r,n){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!r||!n){e.next=18;break}return e.prev=1,e.next=4,t.post("/login/salt",{data:{username:r,clientEphemeralPublic:n}});case 4:a=e.sent,e.next=11;break;case 7:throw e.prev=7,e.t0=e["catch"](1),console.error(e.t0),"error.neterror";case 11:if(!a.data.success){e.next=15;break}return e.abrupt("return",a.data);case 15:throw a.data.err;case 16:e.next=19;break;case 18:throw"error.login.invalidquery";case 19:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t,r){return e.apply(this,arguments)}}()),Object(i["a"])(this,"loginToken",function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(r,n){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!r||!n){e.next=18;break}return e.prev=1,e.next=4,t.post("/login/token",{data:{username:r,clientSessionProof:n}});case 4:a=e.sent,e.next=11;break;case 7:throw e.prev=7,e.t0=e["catch"](1),console.error(e.t0),"error.neterror";case 11:if(!a.data.success){e.next=15;break}return e.abrupt("return",a.data);case 15:throw a.data.err;case 16:e.next=19;break;case 18:throw"error.login.invalidquery";case 19:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t,r){return e.apply(this,arguments)}}()),Object(i["a"])(this,"register",function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(r,n,a){var s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!(r&&n&&a)){e.next=18;break}return e.prev=1,e.next=4,t.post("/register",{data:{username:r,salt:n,verifier:a}});case 4:s=e.sent,e.next=11;break;case 7:throw e.prev=7,e.t0=e["catch"](1),console.error(e.t0),"error.neterror";case 11:if(!s.data.success){e.next=15;break}return e.abrupt("return",s.data.token);case 15:throw s.data.err;case 16:e.next=19;break;case 18:throw"error.login.invalidquery";case 19:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t,r,n){return e.apply(this,arguments)}}()),Object(i["a"])(this,"getToken",(function(){return localStorage.getItem("token")})),Object(i["a"])(this,"setToken",(function(e){return e?localStorage.setItem("token",e):localStorage.removeItem("token")})),Object(i["a"])(this,"isLoggedIn",(function(){var e=t.getToken();return!(!e||t.isExpired(e))})),Object(i["a"])(this,"getUserID",(function(){if("online"===d["a"].getMode()){var e=t.getToken(),r=o()(e);return r.userid}return"local"})),Object(i["a"])(this,"logout",(function(){return t.setToken(null),!0})),Object(i["a"])(this,"isExpired",(function(e){var t=o()(e);return t.exp<Date.now()/1e3})),Object(i["a"])(this,"post",function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(r,a){var s,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return s={Accept:"application/json","Content-Type":"application/json"},t.isLoggedIn()&&(s.Authorization="Bearer "+t.getToken()),e.prev=2,e.next=5,l()(Object(n["a"])({baseURL:t.server,method:"post",url:r,headers:s},a));case 5:return i=e.sent,e.abrupt("return",i);case 9:throw e.prev=9,e.t0=e["catch"](2),console.error(e.t0),"error.neterror";case 13:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t,r){return e.apply(this,arguments)}}()),Object(i["a"])(this,"get",function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(r,a){var s,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return s={Accept:"application/json","Content-Type":"application/json"},t.isLoggedIn()&&(s.Authorization="Bearer "+t.getToken()),e.prev=2,e.next=5,l()(Object(n["a"])({baseURL:t.server,method:"get",url:r,headers:s},a));case 5:return i=e.sent,e.abrupt("return",i);case 9:throw e.prev=9,e.t0=e["catch"](2),console.error(e.t0),"error.neterror";case 13:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t,r){return e.apply(this,arguments)}}()),Object(i["a"])(this,"updateTask",function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(r){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.post("/updateTask",{data:r});case 3:n=e.sent,e.next=10;break;case 6:throw e.prev=6,e.t0=e["catch"](0),console.error(e.t0),"error.neterror";case 10:if(!n.data.success){e.next=14;break}return e.abrupt("return",!0);case 14:throw n.data.err;case 15:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()),Object(i["a"])(this,"addTask",function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(r){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.post("/newTask",{data:r});case 3:n=e.sent,e.next=10;break;case 6:throw e.prev=6,e.t0=e["catch"](0),console.error(e.t0),"error.neterror";case 10:if(!n.data.success){e.next=14;break}return e.abrupt("return",!0);case 14:throw n.data.err;case 15:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()),Object(i["a"])(this,"addList",function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(r){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.post("/newList",{data:r});case 3:n=e.sent,e.next=10;break;case 6:throw e.prev=6,e.t0=e["catch"](0),console.error(e.t0),"error.neterror";case 10:if(!n.data.success){e.next=14;break}return e.abrupt("return",!0);case 14:throw n.data.err;case 15:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()),Object(i["a"])(this,"getUserData",Object(a["a"])(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.post("/getUserData");case 3:r=e.sent,e.next=10;break;case 6:throw e.prev=6,e.t0=e["catch"](0),console.error(e.t0),"error.neterror";case 10:if(!r.data.success){e.next=14;break}return e.abrupt("return",r.data);case 14:throw r.data.error;case 15:case"end":return e.stop()}}),e,null,[[0,6]])})))),Object(i["a"])(this,"getLists",Object(a["a"])(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.post("/getLists");case 2:if(r=e.sent,!r.data.success){e.next=7;break}return e.abrupt("return",r.data.lists);case 7:throw r.data.err;case 8:case"end":return e.stop()}}),e)})))),Object(i["a"])(this,"getTasks",Object(a["a"])(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.post("/getTask/all");case 2:if(r=e.sent,!r.data.success){e.next=7;break}return e.abrupt("return",r.data.tasks);case 7:throw r.data.err;case 8:case"end":return e.stop()}}),e)})))),Object(i["a"])(this,"deleteAccount",Object(a["a"])(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.post("/deleteAccount");case 3:r=e.sent,e.next=9;break;case 6:throw e.prev=6,e.t0=e["catch"](0),"err.neterror";case 9:if(!r.data.success){e.next=13;break}return e.abrupt("return",!0);case 13:throw r.data.err;case 14:case"end":return e.stop()}}),e,null,[[0,6]])})))),Object(i["a"])(this,"getCheckout",Object(a["a"])(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.get("/newSubscription");case 3:r=e.sent,e.next=9;break;case 6:throw e.prev=6,e.t0=e["catch"](0),"err.neterror";case 9:if(!r.data.success){e.next=13;break}return e.abrupt("return",r.data.token);case 13:throw r.data.err;case 14:case"end":return e.stop()}}),e,null,[[0,6]])})))),Object(i["a"])(this,"getPaymentPortal",Object(a["a"])(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.get("/manageSubscription");case 3:r=e.sent,e.next=9;break;case 6:throw e.prev=6,e.t0=e["catch"](0),"err.neterror";case 9:if(!r.data.success){e.next=13;break}return e.abrupt("return",r.data.url);case 13:throw r.data.err;case 14:case"end":return e.stop()}}),e,null,[[0,6]])})))),Object(i["a"])(this,"sendKey",function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(r){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!r){e.next=15;break}return e.prev=1,e.next=4,t.post("/datakey/set",{data:{key:r}});case 4:n=e.sent,e.next=11;break;case 7:throw e.prev=7,e.t0=e["catch"](1),console.error(e.t0),"error.neterror";case 11:if(n.data.success){e.next=13;break}throw n.data.error;case 13:e.next=16;break;case 15:throw"error.sendkey.invalidquery";case 16:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()),this.server=p};t["a"]=new h},e7b1:function(e,t,r){"use strict";r("99af"),r("caad"),r("4fad"),r("d3b7"),r("25f0");var n=r("3835"),a=(r("96cf"),r("1da1")),s=r("d4ec"),i=r("ade3"),c=r("668b"),o=r("1333"),u=r.n(o),l=r("204c"),d=r.n(l),p=r("a099"),h=r.n(p),f=r("11dc"),g=r.n(f),b=r("d470"),m=function e(){var t=this;Object(s["a"])(this,e),Object(i["a"])(this,"reencrypt",function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(r,n,a){var s,i,c,o,u,l,d=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return s=d.length>3&&void 0!==d[3]?d[3]:t.encrypt,i=d.length>4&&void 0!==d[4]?d[4]:t.decrypt,e.prev=2,c=t.getEncryptionKey(r),o=t.getEncryptionKey(n),e.next=7,i(a,c,t.decryptObj);case 7:return u=e.sent,e.next=10,s(u,o,t.encryptObj);case 10:return l=e.sent,e.abrupt("return",l);case 14:throw e.prev=14,e.t0=e["catch"](2),console.error(e.t0),new Error("auth.reencrypt");case 18:case"end":return e.stop()}}),e,null,[[2,14]])})));return function(t,r,n){return e.apply(this,arguments)}}()),Object(i["a"])(this,"createEncryptionKey",Object(a["a"])(regeneratorRuntime.mark((function e(){var r,n,a,s=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=s.length>0&&void 0!==s[0]?s[0]:b["a"].getUserID(),e.prev=1,e.next=4,v(64);case 4:n=e.sent,a=n.toString("base64"),t.setEncryptionKey(a,r),e.next=13;break;case 9:throw e.prev=9,e.t0=e["catch"](1),console.error(e.t0),"error.auth.datakey.create";case 13:case"end":return e.stop()}}),e,null,[[1,9]])})))),Object(i["a"])(this,"getEncryptionKey",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b["a"].getUserID();return localStorage.getItem("key_".concat(e))})),Object(i["a"])(this,"setEncryptionKey",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:b["a"].getUserID();return localStorage.setItem("key_".concat(t),e)})),Object(i["a"])(this,"getEncryptionKeyWithPass",function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(r){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.getEncryptionKey();case 3:return n=e.sent,e.next=6,u.a.encrypt(r,n);case 6:return a=e.sent,e.abrupt("return",a);case 10:throw e.prev=10,e.t0=e["catch"](0),console.error(e.t0),"error.auth.datakey";case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()),Object(i["a"])(this,"setEncryptionKeyWithPass",function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(r,n){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.a.decrypt(r,n);case 3:a=e.sent,t.setEncryptionKey(a),e.next=11;break;case 7:throw e.prev=7,e.t0=e["catch"](0),console.error(e.t0),"error.auth.datakey";case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,r){return e.apply(this,arguments)}}()),Object(i["a"])(this,"createVerifier",function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(r,n){var a,s,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,a=d.a.generateSalt(),e.next=4,t.getPrivateKey(r,n,a);case 4:return s=e.sent,i=d.a.deriveVerifier(s),e.abrupt("return",{verifier:i,salt:a});case 9:throw e.prev=9,e.t0=e["catch"](0),console.error(e.t0),"error.auth.createVerifier";case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,r){return e.apply(this,arguments)}}()),Object(i["a"])(this,"getPrivateKey",function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,r,n){var a,s,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,a="".concat(t,":").concat(r),e.next=4,k(a,n,2e4,64,"sha512");case 4:return s=e.sent,i=s.toString("hex"),e.abrupt("return",i);case 9:throw e.prev=9,e.t0=e["catch"](0),console.error(e.t0),"error.auth.privateKey";case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,r,n){return e.apply(this,arguments)}}()),Object(i["a"])(this,"createEphemeral",Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.clientEphemeral=d.a.generateEphemeral(),e.abrupt("return",t.clientEphemeral.public);case 2:case"end":return e.stop()}}),e)})))),Object(i["a"])(this,"createSession",function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(r,n,a,s){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.getPrivateKey(r,n,a);case 2:return i=e.sent,e.next=5,d.a.deriveSession(t.clientEphemeral.secret,s,a,r,i);case 5:return t.clientSession=e.sent,e.abrupt("return",t.clientSession.proof);case 7:case"end":return e.stop()}}),e)})));return function(t,r,n,a){return e.apply(this,arguments)}}()),Object(i["a"])(this,"encrypt",function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(r,n){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,n||(n=t.getEncryptionKey()),r=JSON.stringify(r),e.next=5,u.a.encrypt(n,r);case 5:return a=e.sent,e.abrupt("return",a);case 9:throw e.prev=9,e.t0=e["catch"](0),console.warn(e.t0),"error.auth.encrypterror";case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,r){return e.apply(this,arguments)}}()),Object(i["a"])(this,"decrypt",function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(r,n){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,n||(n=t.getEncryptionKey()),console.log(n),e.next=5,u.a.decrypt(n,r);case 5:return a=e.sent,console.log(a),e.abrupt("return",JSON.parse(a));case 10:throw e.prev=10,e.t0=e["catch"](0),console.warn(e.t0),"error.auth.decrypterror";case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,r){return e.apply(this,arguments)}}()),Object(i["a"])(this,"decryptArray",function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(r,n){var a,s,i,o,u,l,d,p,h,f,g=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=g.length>2&&void 0!==g[2]?g[2]:t.decrypt,s=[],!r){e.next=39;break}i=!0,o=!1,e.prev=5,l=Object(c["a"])(r);case 7:return e.next=9,l.next();case 9:return d=e.sent,i=d.done,e.next=13,d.value;case 13:if(p=e.sent,i){e.next=23;break}return h=p,e.next=18,a(h,n);case 18:f=e.sent,s.push(f);case 20:i=!0,e.next=7;break;case 23:e.next=29;break;case 25:e.prev=25,e.t0=e["catch"](5),o=!0,u=e.t0;case 29:if(e.prev=29,e.prev=30,i||null==l.return){e.next=34;break}return e.next=34,l.return();case 34:if(e.prev=34,!o){e.next=37;break}throw u;case 37:return e.finish(34);case 38:return e.finish(29);case 39:return e.abrupt("return",s);case 40:case"end":return e.stop()}}),e,null,[[5,25,29,39],[30,,34,38]])})));return function(t,r){return e.apply(this,arguments)}}()),Object(i["a"])(this,"encryptArray",function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(r,n){var a,s,i,o,u,l,d,p,h,f,g=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=g.length>2&&void 0!==g[2]?g[2]:t.decrypt,s=[],!r){e.next=39;break}i=!0,o=!1,e.prev=5,l=Object(c["a"])(r);case 7:return e.next=9,l.next();case 9:return d=e.sent,i=d.done,e.next=13,d.value;case 13:if(p=e.sent,i){e.next=23;break}return h=p,e.next=18,a(h,n);case 18:f=e.sent,s.push(f);case 20:i=!0,e.next=7;break;case 23:e.next=29;break;case 25:e.prev=25,e.t0=e["catch"](5),o=!0,u=e.t0;case 29:if(e.prev=29,e.prev=30,i||null==l.return){e.next=34;break}return e.next=34,l.return();case 34:if(e.prev=34,!o){e.next=37;break}throw u;case 37:return e.finish(34);case 38:return e.finish(29);case 39:return e.abrupt("return",s);case 40:case"end":return e.stop()}}),e,null,[[5,25,29,39],[30,,34,38]])})));return function(t,r){return e.apply(this,arguments)}}()),Object(i["a"])(this,"decryptObj",function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(r,a){var s,i,c,o,u,l;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(s={},r){e.next=3;break}throw"error.auth.decrypterror";case 3:i=0,c=Object.entries(r);case 4:if(!(i<c.length)){e.next=20;break}if(o=Object(n["a"])(c[i],2),u=o[0],l=o[1],["taskid","listid","userid","deleted","modified"].includes(u)){e.next=16;break}if(!l){e.next=13;break}return e.next=10,t.decrypt(l,a);case 10:s[u]=e.sent,e.next=14;break;case 13:s[u]=null;case 14:e.next=17;break;case 16:s[u]=l;case 17:i++,e.next=4;break;case 20:return e.abrupt("return",s);case 21:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()),Object(i["a"])(this,"encryptObj",function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(r,a){var s,i,c,o,u,l;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(s={},r){e.next=3;break}throw"error.auth.encrypterror";case 3:i=0,c=Object.entries(r);case 4:if(!(i<c.length)){e.next=20;break}if(o=Object(n["a"])(c[i],2),u=o[0],l=o[1],["taskid","listid","userid","deleted","modified"].includes(u)){e.next=16;break}if(!l){e.next=13;break}return e.next=10,t.encrypt(l,a);case 10:s[u]=e.sent,e.next=14;break;case 13:s[u]=null;case 14:e.next=17;break;case 16:s[u]=l;case 17:i++,e.next=4;break;case 20:return e.abrupt("return",s);case 21:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()),this.clientEphemeral=null,this.clientSession=null};function v(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:128;return new Promise((function(t,r){g()(e,(function(e,n){e&&r(e),t(n)}))}))}function k(e,t,r,n,a){return new Promise((function(s,i){h.a.pbkdf2(e,t,r,n,a,(function(e,t){e&&(console.error(e),i(e)),s(t)}))}))}t["a"]=new m},edd4:function(e){e.exports=JSON.parse('{"task":{"placeholder":{"description":"Click here to add a description"}},"login":{"label":{"password":"Password","login":"Login","user":"User"},"link":{"register":"Create a new account instead","modeselect":"Change mode"},"placeholder":{"password":"Password","user":"Username"}},"register":{"label":{"password":"Password","register":"Create a new account","username":"Username"},"link":{"login":"Login instead"},"placeholder":{"password":"Password","username":"Username"}},"newlist":{"close":"Cancel","create":"Create","label":{"name":"Name"},"placeholder":{"name":"Name"},"title":"Create a new list"},"menu":{"label":{"actions":"Actions","allLists":"All lists","lists":"Lists","logout":"Logout","newlist":"New list","settings":"Settings"}},"settings":{"delete":{"label":{"delete":"Delete my account","password":"Type password to delete account"},"placeholder":{"password":"Password"}},"payments":"Open payments","migrate":{"button":{"import":"Import","export":"Export"},"info":{"local":"Migrate online data to local","online":"Migrate local data to online","import":"Import data from local mode","export":"Export data to local mode"},"title":{"local":"Migrate","online":"Migrate","import":"Migrate data"}}},"tasklist":{"notasks":"No tasks here yet..."},"modeselect":{"button":{"local":"Use Ticked locally","online":"Use our servers"},"title":"Select mode"},"payments":{"portal":"Manage payments","checkout":"New subscription","back":"Go back"}}')},f669:function(e,t,r){}});
//# sourceMappingURL=app.29244956.js.map