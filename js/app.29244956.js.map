{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/modules/store.js","webpack:///./src/views/MainPage.vue?a026","webpack:///./src/components/MainPage/Menu.vue?b335","webpack:///./src/components/MainPage/NewListModal.vue?340b","webpack:///src/components/MainPage/NewListModal.vue","webpack:///./src/components/MainPage/NewListModal.vue?5faa","webpack:///./src/components/MainPage/NewListModal.vue","webpack:///src/components/MainPage/Menu.vue","webpack:///./src/components/MainPage/Menu.vue?1844","webpack:///./src/components/MainPage/Menu.vue","webpack:///./src/components/MainPage/TaskList.vue?aa6e","webpack:///./src/components/MainPage/Task.vue?9a0d","webpack:///src/components/MainPage/Task.vue","webpack:///./src/components/MainPage/Task.vue?f9f2","webpack:///./src/components/MainPage/Task.vue","webpack:///src/components/MainPage/TaskList.vue","webpack:///./src/components/MainPage/TaskList.vue?86cc","webpack:///./src/components/MainPage/TaskList.vue","webpack:///./src/components/MainPage/Settings.vue?a360","webpack:///src/components/MainPage/Settings.vue","webpack:///./src/components/MainPage/Settings.vue?8dfb","webpack:///./src/components/MainPage/Settings.vue","webpack:///src/views/MainPage.vue","webpack:///./src/views/MainPage.vue?43e1","webpack:///./src/views/MainPage.vue","webpack:///./src/modules/payments.js","webpack:///./src/modules/backend.js","webpack:///./src/locales sync [A-Za-z0-9-_,\\s]+\\.json$/","webpack:///./src/App.vue?dd27","webpack:///src/App.vue","webpack:///./src/App.vue?1160","webpack:///./src/App.vue","webpack:///./src/i18n.js","webpack:///./src/main.js","webpack:///./src/views/ModeSelect.vue?9e24","webpack:///src/views/ModeSelect.vue","webpack:///./src/views/ModeSelect.vue?fb06","webpack:///./src/views/ModeSelect.vue","webpack:///./src/modules/db-schema.js","webpack:///./src/modules/database.js","webpack:///./src/router/index.js","webpack:///./src/views/Login.vue?dd44","webpack:///src/views/Login.vue","webpack:///./src/views/Login.vue?5da6","webpack:///./src/views/Login.vue","webpack:///./src/views/Payments.vue?12f0","webpack:///src/views/Payments.vue","webpack:///./src/views/Payments.vue?f1fd","webpack:///./src/views/Payments.vue","webpack:///./src/modules/net.js","webpack:///./src/modules/auth.js"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","state","list","lists","tasks","allTasks","loading","userData","view","menuView","lastMenuView","lastView","setList","newList","this","filter","elem","listid","setLists","newLists","setTasks","newTasks","addLoading","newLoading","setLoading","addTask","newTask","removeTask","taskToRemove","task","taskid","removeList","listToRemove","console","log","addList","setAllLists","setUserData","newUserData","setView","newView","setMenuView","newMenu","viewBack","newMenuView","getMode","localStorage","getItem","setMode","newMode","setItem","removeItem","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","store","_e","staticRenderFns","$t","on","$event","allLists","_l","scopedSlots","_u","fn","_v","_s","proxy","deleteList","logout","db","updating","staticStyle","model","callback","$$v","expression","close","methods","$parent","backend","component","database","error","isActive","newListProps","listName","isModalActive","currentElem","parent","NewListModal","hasModalCard","trapFocus","onCancel","nativeOn","type","indexOf","_k","keyCode","newTaskValue","drag","logEvent","$set","updateTask","update","directives","rawName","domProps","editing_name","target","composing","editing_desc","description","focus","inserted","el","props","default","$emit","components","event","blur","ev","password","deleteAccount","openPayments","migrate","computed","$router","mounted","$nextTick","open","$electron","shell","openExternal","link","Payments","loadStripe","stripe","token","redirectToCheckout","sessionId","message","url","location","replace","Backend","warn","getTasks","auth","decryptArray","decryptObj","decryptedTasks","showError","getLists","decryptedLists","net","getNewSubscription","res","sendKey","code","fetchKey","router","loadTasks","mainRef","getEncryptionKey","createEncryptionKey","sync","loadLists","uuidv4","userid","getUserID","encryptObj","encryptedTask","taskToDelete","deleteTask","listToDelete","encryptedList","user","username","createEphemeral","clientEphemeralPublic","loginSalt","salt","serverEphemeralPublic","createSession","clientSessionProof","loginToken","setToken","setEncryptionKeyWithPass","createVerifier","verifier","register","getEncryptionKeyWithPass","toString","msg","vue","Toast","duration","queue","getPaymentPortal","payments","goToPortal","getCheckout","session","goToCheckout","migMode","oldTasks","reencrypt","encryptArray","replaceArrayUserID","oldLists","putArray","initialLoad","array","newUserID","newArray","forEach","element","init","warnConsolePasting","map","webpackContext","req","id","webpackContextResolve","e","Error","keys","resolve","loadLocaleMessages","locales","require","messages","matched","match","locale","Vue","use","VueI18n","process","fallbackLocale","config","productionTip","Buefy","i18n","h","App","$mount","select","selectedMode","Dexie","version","stores","updateFrequency","Database","ready","needsUpdate","getTime","lastUpdateTime","ourTasks","ourLists","syncTasks","syncLists","updateHandler","ourArray","remoteArray","ourTask","theirTask","find","modified","undefined","ourList","theirList","updateList","handler","Date","now","where","equals","toArray","netUpdate","deleted","checkUpdate","add","put","bulkPut","setInterval","VueRouter","routes","path","redirect","to","isLoggedIn","base","modeSelect","login","login_user","login_password","switchTo","register_username","register_password","register_email","clearForms","openPortal","back","openCheckout","server","Net","post","success","err","newToken","getToken","isExpired","decodedJWT","jwtDecode","exp","apiAddress","options","headers","Accept","Authorization","axios","baseURL","method","Auth","olduser","newuser","input","encryptor","encrypt","decryptor","decrypt","oldKey","newKey","decrypted","encrypted","getRandomBytes","buf","setEncryptionKey","pass","aes256","srp","generateSalt","getPrivateKey","privateKey","deriveVerifier","secret","pbkdf2","keyBuf","clientEphemeral","generateEphemeral","public","deriveSession","clientSession","proof","JSON","stringify","parse","dataArray","decryptedArray","encryptedArray","obj","newObj","entries","prop","includes","bytes","Promise","reject","randomBytes","buffer","iterations","keylen","algorithm","pbkdf2Lib","derKey"],"mappings":"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","file":"js/app.29244956.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","var state = {\r\n  state: {\r\n    list: null,\r\n    lists: [],\r\n    tasks: [],\r\n    allTasks: [],\r\n    loading: 0,\r\n    userData: {},\r\n    view: 'tasks', // tasks or settings\r\n    menuView: '',\r\n    lastMenuView: '',\r\n    lastView: ''\r\n  },\r\n  setList (newList) {\r\n    if (process.env.NODE_ENV === 'development') console.log('Changing list: ', newList)\r\n    this.state.list = newList\r\n    this.state.tasks = this.state.allTasks.filter((elem) => {\r\n      if (this.state.list === null) return true\r\n      return elem.listid === this.state.list\r\n    })\r\n  },\r\n  setLists (newLists) {\r\n    if (process.env.NODE_ENV === 'development') console.log('Changing lists: ', newLists)\r\n    this.state.lists = newLists\r\n  },\r\n  setTasks (newTasks) {\r\n    if (process.env.NODE_ENV === 'development') console.log('Changing tasks: ', newTasks)\r\n    this.state.allTasks = newTasks\r\n  },\r\n  addLoading (newLoading) {\r\n    if (process.env.NODE_ENV === 'development') console.log('Adding loading: ', newLoading)\r\n    this.state.loading += newLoading\r\n    if (this.state.loading < 0) this.state.loading = 0\r\n  },\r\n  setLoading (newLoading) {\r\n    if (process.env.NODE_ENV === 'development') console.log('Changing loading: ', newLoading)\r\n    this.state.loading = newLoading\r\n  },\r\n  addTask (newTask) {\r\n    if (process.env.NODE_ENV === 'development') console.log('Adding task: ', newTask)\r\n    this.state.allTasks.push(newTask)\r\n    if (newTask.listid === this.state.list || this.state.list === null) {\r\n      this.state.tasks.push(newTask)\r\n    }\r\n  },\r\n  removeTask (taskToRemove) {\r\n    if (process.env.NODE_ENV === 'development') console.log('Removing task: ', taskToRemove)\r\n    this.state.allTasks = this.state.allTasks.filter(function (task) {\r\n      return task.taskid !== taskToRemove.taskid\r\n    })\r\n    this.state.tasks = this.state.tasks.filter(function (task) {\r\n      return task.taskid !== taskToRemove.taskid\r\n    })\r\n  },\r\n  removeList (listToRemove) {\r\n    console.log('TODO - removelist')\r\n  },\r\n  addList (newList) {\r\n    if (process.env.NODE_ENV === 'development') console.log('Adding list: ', newList)\r\n    this.state.lists.push(newList)\r\n  },\r\n  setAllLists () {\r\n    this.state.tasks = this.state.allTasks\r\n  },\r\n  setUserData (newUserData) {\r\n    if (process.env.NODE_ENV === 'development') console.log('Setting user data: ', newUserData)\r\n    this.state.userData = newUserData\r\n  },\r\n  setView (newView) {\r\n    this.state.lastView = newView\r\n    if (process.env.NODE_ENV === 'development') console.log('Setting view: ', newView)\r\n    this.state.view = newView\r\n  },\r\n  setMenuView (newMenu) {\r\n    this.state.lastMenuView = this.state.menuView\r\n    if (process.env.NODE_ENV === 'development') console.log('Setting menu view: ', newMenu)\r\n    this.state.menuView = newMenu\r\n  },\r\n  viewBack () {\r\n    const newView = this.state.lastView\r\n    const newMenuView = this.state.lastMenuView\r\n    this.state.lastView = this.state.view\r\n    this.state.lastMenuView = this.state.menuView\r\n    this.state.view = newView\r\n    this.state.menuView = newMenuView\r\n    if (process.env.NODE_ENV === 'development') console.log('Going back')\r\n  },\r\n  getMode () {\r\n    return localStorage.getItem('mode')\r\n  },\r\n  setMode (newMode) {\r\n    if (newMode) {\r\n      return localStorage.setItem('mode', newMode)\r\n    } else {\r\n      return localStorage.removeItem('mode')\r\n    }\r\n  }\r\n}\r\n\r\nwindow.state = state\r\n\r\nexport default state\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"main\"},[_c('b-loading',{attrs:{\"active\":_vm.store.loading !== 0,\"is-full-page\":true,\"can-cancel\":false}}),_c('section',{staticClass:\"main-layout\"},[_c('Menu'),_c('div',{staticClass:\"main-content\"},[(_vm.store.view === 'tasks')?_c('TaskList'):_vm._e(),(_vm.store.view === 'settings')?_c('Settings'):_vm._e()],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-sidebar',{attrs:{\"position\":\"static\",\"fullheight\":\"\",\"mobile\":\"show\",\"open\":\"\"}},[_c('b-menu',{staticClass:\"is-sidebar-menu\"},[_c('b-menu-list',{attrs:{\"label\":_vm.$t('menu.label.lists')}},[_c('b-menu-item',{attrs:{\"active\":_vm.state.menuView === 'allLists',\"icon\":\"view-sequential\",\"label\":_vm.$t('menu.label.allLists')},on:{\"click\":function($event){return _vm.allLists()}}}),_vm._l((_vm.state.lists),function(list){return _c('b-menu-item',{key:list.listid,attrs:{\"active\":_vm.state.menuView === list.listid},on:{\"click\":function($event){return _vm.setList(list.listid)}},scopedSlots:_vm._u([{key:\"label\",fn:function(){return [_vm._v(\" \"+_vm._s(list.name)+\" \"),_c('b-dropdown',{staticClass:\"is-pulled-right\",attrs:{\"aria-role\":\"list\",\"append-to-body\":\"\"},scopedSlots:_vm._u([{key:\"trigger\",fn:function(){return [_c('b-icon',{attrs:{\"icon\":\"dots-vertical\"}})]},proxy:true}],null,true)},[_c('b-dropdown-item',{attrs:{\"aria-role\":\"listitem\"},on:{\"click\":function($event){return _vm.deleteList(list)}}},[_vm._v(\" Delete list \")])],1)]},proxy:true}],null,true)})}),_c('b-menu-item',{attrs:{\"tag\":\"a\",\"icon\":\"plus\",\"active\":_vm.state.menuView === 'newList',\"label\":_vm.$t('menu.label.newlist')},on:{\"click\":_vm.newList}})],2),_c('b-menu-list',{attrs:{\"label\":_vm.$t('menu.label.actions')}},[_c('b-menu-item',{attrs:{\"label\":_vm.$t('menu.label.settings'),\"active\":_vm.state.menuView === 'settings',\"icon\":\"settings\"},on:{\"click\":function($event){_vm.setView('settings'); _vm.setMenuView('settings')}}}),_c('b-menu-item',{attrs:{\"label\":_vm.$t('menu.label.logout'),\"active\":_vm.state.menuView === 'logout',\"icon\":\"logout\"},on:{\"click\":_vm.logout}})],1)],1),_c('div',{staticClass:\"loadingindicator\"},[_c('b-loading',{attrs:{\"active\":_vm.db.updating !== 0,\"can-cancel\":false,\"is-full-page\":false}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"modal-card\",staticStyle:{\"width\":\"auto\"}},[_c('header',{staticClass:\"modal-card-head\"},[_c('p',{staticClass:\"modal-card-title\"},[_vm._v(\" \"+_vm._s(_vm.$t('newlist.title'))+\" \")])]),_c('section',{staticClass:\"modal-card-body\"},[_c('b-field',{attrs:{\"label\":_vm.$t('newlist.label.name')}},[_c('b-input',{attrs:{\"type\":\"text\",\"placeholder\":_vm.$t('newlist.placeholder.name'),\"required\":\"\"},model:{value:(_vm.name),callback:function ($$v) {_vm.name=$$v},expression:\"name\"}})],1)],1),_c('footer',{staticClass:\"modal-card-foot\"},[_c('b-button',{attrs:{\"type\":\"is-primary\"},on:{\"click\":_vm.create}},[_vm._v(\" \"+_vm._s(_vm.$t('newlist.create'))+\" \")]),_c('b-button',{attrs:{\"type\":\"is-light\"},on:{\"click\":_vm.close}},[_vm._v(\" \"+_vm._s(_vm.$t('newlist.close'))+\" \")])],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\nimport backend from '@/modules/backend'\nimport store from '@/modules/store'\n\nexport default {\n  name: 'NewListModal',\n  data () {\n    return {\n      name: ''\n    }\n  },\n  methods: {\n    create () {\n      console.log(this.$parent)\n      this.close()\n      backend.newList({\n        name: this.name\n      })\n    },\n    close () {\n      store.viewBack()\n      this.$parent.close()\n    }\n  }\n}\n</script>\n\n<template>\n  <div\n    class=\"modal-card\"\n    style=\"width: auto\"\n  >\n    <header class=\"modal-card-head\">\n      <p class=\"modal-card-title\">\n        {{ $t('newlist.title') }}\n      </p>\n    </header>\n    <section class=\"modal-card-body\">\n      <b-field :label=\"$t('newlist.label.name')\">\n        <b-input\n          v-model=\"name\"\n          type=\"text\"\n          :placeholder=\"$t('newlist.placeholder.name')\"\n          required\n        />\n      </b-field>\n    </section>\n    <footer class=\"modal-card-foot\">\n      <b-button\n        type=\"is-primary\"\n        @click=\"create\"\n      >\n        {{ $t('newlist.create') }}\n      </b-button>\n      <b-button\n        type=\"is-light\"\n        @click=\"close\"\n      >\n        {{ $t('newlist.close') }}\n      </b-button>\n    </footer>\n  </div>\n</template>\n\n<style></style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NewListModal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NewListModal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./NewListModal.vue?vue&type=template&id=ed1ae122&\"\nimport script from \"./NewListModal.vue?vue&type=script&lang=js&\"\nexport * from \"./NewListModal.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<script>\r\n\r\nimport net from '@/modules/net'\r\nimport store from '@/modules/store'\r\nimport backend from '@/modules/backend'\r\nimport database from '@/modules/database'\r\n\r\nimport NewListModal from '@/components/MainPage/NewListModal'\r\n\r\nexport default {\r\n  name: 'Menu',\r\n  data () {\r\n    return {\r\n      loading: false,\r\n      state: store.state,\r\n      db: database,\r\n      error: null,\r\n      isActive: true,\r\n      newListProps: {\r\n        listName: null\r\n      },\r\n      isModalActive: false,\r\n      currentElem: 'allLists'\r\n    }\r\n  },\r\n  methods: {\r\n    setList (newList) {\r\n      this.setView('tasks')\r\n      this.setMenuView(newList)\r\n      backend.setList(newList)\r\n    },\r\n    logout () {\r\n      this.setMenuView('logout')\r\n      backend.logout()\r\n    },\r\n    newList () {\r\n      this.setMenuView('newList')\r\n      const modal = this.$buefy.modal.open({\r\n        parent: this,\r\n        component: NewListModal,\r\n        hasModalCard: true,\r\n        trapFocus: true,\r\n        onCancel: () => {\r\n          console.log('Modal closed')\r\n          store.viewBack()\r\n        }\r\n      })\r\n    },\r\n    setView (newView) {\r\n      store.setView(newView)\r\n    },\r\n    setMenuView (newView) {\r\n      store.setMenuView(newView)\r\n    },\r\n    allLists () {\r\n      this.setView('lists')\r\n      this.setMenuView('allLists')\r\n      store.setAllLists()\r\n    },\r\n    deleteList (list) {\r\n      backend.deleteList(list)\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<template>\r\n  <b-sidebar\r\n    position=\"static\"\r\n    fullheight\r\n    mobile=\"show\"\r\n    open\r\n  >\r\n    <b-menu class=\"is-sidebar-menu\">\r\n      <b-menu-list :label=\"$t('menu.label.lists')\">\r\n        <b-menu-item\r\n          :active=\"state.menuView === 'allLists'\"\r\n          icon=\"view-sequential\"\r\n          :label=\"$t('menu.label.allLists')\"\r\n          @click=\"allLists()\"\r\n        />\r\n        <b-menu-item\r\n          v-for=\"list in state.lists\"\r\n          :key=\"list.listid\"\r\n          :active=\"state.menuView === list.listid\"\r\n          @click=\"setList(list.listid)\"\r\n        >\r\n          <template #label>\r\n            {{ list.name }}\r\n            <b-dropdown\r\n              aria-role=\"list\"\r\n              class=\"is-pulled-right\"\r\n              append-to-body\r\n            >\r\n              <template #trigger>\r\n                <b-icon\r\n                  icon=\"dots-vertical\"\r\n                />\r\n              </template>\r\n              <b-dropdown-item\r\n                aria-role=\"listitem\"\r\n                @click=\"deleteList(list)\"\r\n              >\r\n                Delete list\r\n              </b-dropdown-item>\r\n            </b-dropdown>\r\n          </template>\r\n        </b-menu-item>\r\n        <b-menu-item\r\n          tag=\"a\"\r\n          icon=\"plus\"\r\n          :active=\"state.menuView === 'newList'\"\r\n          :label=\"$t('menu.label.newlist')\"\r\n          @click=\"newList\"\r\n        />\r\n      </b-menu-list>\r\n      <b-menu-list :label=\"$t('menu.label.actions')\">\r\n        <b-menu-item\r\n          :label=\"$t('menu.label.settings')\"\r\n          :active=\"state.menuView === 'settings'\"\r\n          icon=\"settings\"\r\n          @click=\"setView('settings'); setMenuView('settings')\"\r\n        />\r\n        <b-menu-item\r\n          :label=\"$t('menu.label.logout')\"\r\n          :active=\"state.menuView === 'logout'\"\r\n          icon=\"logout\"\r\n          @click=\"logout\"\r\n        />\r\n      </b-menu-list>\r\n    </b-menu>\r\n    <div class=\"loadingindicator\">\r\n      <b-loading\r\n        :active=\"db.updating !== 0\"\r\n        :can-cancel=\"false\"\r\n        :is-full-page=\"false\"\r\n      />\r\n    </div>\r\n  </b-sidebar>\r\n</template>\r\n\r\n<style></style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Menu.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Menu.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Menu.vue?vue&type=template&id=5f765488&\"\nimport script from \"./Menu.vue?vue&type=script&lang=js&\"\nexport * from \"./Menu.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"tasks\"},[_c('div',{staticClass:\"newtask\"},[_c('b-field',{staticClass:\"name\"},[_c('b-input',{attrs:{\"placeholder\":\"New task\",\"size\":\"is-medium\"},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.newTask($event)}},model:{value:(_vm.newTaskValue),callback:function ($$v) {_vm.newTaskValue=$$v},expression:\"newTaskValue\"}})],1),_c('b-button',{attrs:{\"type\":\"is-primary\",\"size\":\"is-medium\",\"icon-right\":\"plus\"},on:{\"click\":_vm.newTask}})],1),_c('div',{staticClass:\"tasklist\"},[(_vm.store.tasks && _vm.store.tasks.length !== 0)?_c('div',{staticClass:\"tasklist-content\"},[_c('draggable',{attrs:{\"group\":\"tasks\"},on:{\"start\":function($event){_vm.drag=true},\"end\":function($event){_vm.drag=false},\"update\":_vm.logEvent},model:{value:(_vm.store.tasks),callback:function ($$v) {_vm.$set(_vm.store, \"tasks\", $$v)},expression:\"store.tasks\"}},_vm._l((_vm.store.tasks),function(task){return _c('Task',{key:task.taskid,attrs:{\"task\":task},on:{\"update\":function($event){return _vm.updateTask(task)}}})}),1)],1):_c('div',{staticClass:\"is-flex\",staticStyle:{\"align-items\":\"center\",\"justify-content\":\"center\"}},[_c('p',{staticStyle:{\"text-align\":\"center\"}},[_vm._v(\" \"+_vm._s(_vm.$t('tasklist.notasks'))+\" \")])]),(_vm.error)?_c('div',{staticClass:\"error\"},[_vm._v(\" \"+_vm._s(_vm.error)+\" \")]):_vm._e()])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('article',{staticClass:\"media\"},[_c('div',{staticClass:\"task\"},[_c('div',{staticClass:\"check\"},[_c('b-checkbox',{attrs:{\"size\":\"is-large\",\"type\":\"is-success\"},on:{\"input\":function($event){return _vm.update()}},model:{value:(_vm.task.done),callback:function ($$v) {_vm.$set(_vm.task, \"done\", $$v)},expression:\"task.done\"}})],1),_c('div',{staticClass:\"name\"},[(_vm.editing_name)?_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.task.name),expression:\"task.name\"},{name:\"focus\",rawName:\"v-focus\"}],staticClass:\"task input name\",domProps:{\"value\":(_vm.task.name)},on:{\"blur\":function($event){_vm.editing_name = false; _vm.update()},\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }_vm.editing_name=false; _vm.update()},\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.task, \"name\", $event.target.value)}}}):_c('div',[_c('label',{on:{\"click\":function($event){_vm.editing_name = true}}},[_c('strong',[_vm._v(\" \"+_vm._s(_vm.task.name)+\" \")])])])]),_c('div',{staticClass:\"description\"},[(_vm.editing_desc)?_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.task.description),expression:\"task.description\"},{name:\"focus\",rawName:\"v-focus\"}],staticClass:\"task input description\",domProps:{\"value\":(_vm.task.description)},on:{\"blur\":function($event){_vm.editing_desc = false; _vm.update()},\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }_vm.editing_desc=false; _vm.update()},\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.task, \"description\", $event.target.value)}}}):_c('div',[_c('label',{attrs:{\"aria-placeholder\":\"description\"},on:{\"click\":function($event){_vm.editing_desc = true}}},[_vm._v(\" \"+_vm._s(_vm.task.description || _vm.$t('task.placeholder.description'))+\" \")])])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\nexport default {\n  name: 'Task',\n  directives: {\n    focus: {\n      inserted: function (el) {\n        el.focus()\n      }\n    }\n  },\n  props: {\n    task: {\n      type: Object,\n      default: function () {\n        return {}\n      }\n    }\n  },\n  data () {\n    return {\n      editing_name: false,\n      editing_desc: false\n    }\n  },\n  methods: {\n    update () {\n      this.$emit('update')\n    }\n  }\n}\n</script>\n\n<template>\n  <article class=\"media\">\n    <div class=\"task\">\n      <div class=\"check\">\n        <b-checkbox\n          v-model=\"task.done\"\n          size=\"is-large\"\n          type=\"is-success\"\n          @input=\"update()\"\n        />\n      </div>\n      <div class=\"name\">\n        <input\n          v-if=\"editing_name\"\n          v-model=\"task.name\"\n          v-focus\n          class=\"task input name\"\n          @blur=\"editing_name = false; update()\"\n          @keyup.enter=\"editing_name=false; update()\"\n        >\n        <div v-else>\n          <label @click=\"editing_name = true\">\n            <strong> {{ task.name }} </strong>\n          </label>\n        </div>\n      </div>\n      <div class=\"description\">\n        <input\n          v-if=\"editing_desc\"\n          v-model=\"task.description\"\n          v-focus\n          class=\"task input description\"\n          @blur=\"editing_desc = false; update()\"\n          @keyup.enter=\"editing_desc=false; update()\"\n        >\n        <div v-else>\n          <label\n            aria-placeholder=\"description\"\n            @click=\"editing_desc = true\"\n          >\n            {{ task.description || $t('task.placeholder.description') }}\n          </label>\n        </div>\n      </div>\n    </div>\n  </article>\n</template>\n\n<style></style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Task.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Task.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Task.vue?vue&type=template&id=6832fad6&\"\nimport script from \"./Task.vue?vue&type=script&lang=js&\"\nexport * from \"./Task.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<script>\nimport draggable from 'vuedraggable'\n\nimport Task from '@/components/MainPage/Task'\nimport net from '@/modules/net'\nimport store from '@/modules/store'\nimport backend from '@/modules/backend'\n\nexport default {\n  name: 'Tasklist',\n  components: { Task, draggable },\n  data () {\n    return {\n      error: null,\n      store: store.state,\n      newTaskValue: ''\n    }\n  },\n  methods: {\n    newTask (event) {\n      console.log('Creating new task, ', event.target)\n      event.target.blur()\n      backend.newTask({\n        name: this.newTaskValue\n      })\n      this.newTaskValue = ''\n    },\n    updateTask (newTask) {\n      console.log('Updating task: ', newTask)\n      backend.updateTask(newTask)\n    },\n    logEvent (ev) {\n      console.log(ev)\n    }\n  }\n}\n</script>\n\n<template>\n  <div class=\"tasks\">\n    <div class=\"newtask\">\n      <b-field class=\"name\">\n        <b-input\n          v-model=\"newTaskValue\"\n          placeholder=\"New task\"\n          size=\"is-medium\"\n          @keyup.native.enter=\"newTask\"\n        />\n      </b-field>\n      <b-button\n        type=\"is-primary\"\n        size=\"is-medium\"\n        icon-right=\"plus\"\n        @click=\"newTask\"\n      />\n    </div>\n    <div class=\"tasklist\">\n      <div\n        v-if=\"store.tasks && store.tasks.length !== 0\"\n        class=\"tasklist-content\"\n      >\n        <draggable\n          v-model=\"store.tasks\"\n          group=\"tasks\"\n          @start=\"drag=true\"\n          @end=\"drag=false\"\n          @update=\"logEvent\"\n        >\n          <Task\n            v-for=\"task in store.tasks\"\n            :key=\"task.taskid\"\n            :task=\"task\"\n            @update=\"updateTask(task)\"\n          />\n        </draggable>\n      </div>\n      <div\n        v-else\n        class=\"is-flex\"\n        style=\"align-items: center; justify-content: center;\"\n      >\n        <p style=\"text-align: center\">\n          {{ $t('tasklist.notasks') }}\n        </p>\n      </div>\n      <div\n        v-if=\"error\"\n        class=\"error\"\n      >\n        {{ error }}\n      </div>\n    </div>\n  </div>\n</template>\n\n<style></style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TaskList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TaskList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TaskList.vue?vue&type=template&id=4df58b4a&\"\nimport script from \"./TaskList.vue?vue&type=script&lang=js&\"\nexport * from \"./TaskList.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"settings is-fullwidth\"},[_c('section',[_c('b-field',{attrs:{\"label\":_vm.$t('settings.delete.label.password')}},[_c('b-input',{attrs:{\"type\":\"password\",\"placeholder\":_vm.$t('settings.delete.placeholder.password'),\"password-reveal\":\"\",\"required\":\"\"},model:{value:(_vm.password),callback:function ($$v) {_vm.password=$$v},expression:\"password\"}})],1),_c('b-button',{staticClass:\"is-danger\",on:{\"click\":_vm.deleteAccount}},[_vm._v(\" \"+_vm._s(_vm.$t('settings.delete.label.delete'))+\" \")])],1),_c('section',[_c('b-button',{staticClass:\"is-primary\",on:{\"click\":_vm.openPayments}},[_vm._v(\" \"+_vm._s(_vm.$t('settings.payments'))+\" \")])],1),(_vm.mode === 'online')?_c('section',[_c('p',{staticClass:\"is-size-3\"},[_vm._v(\" \"+_vm._s(_vm.$t('settings.migrate.title.import'))+\" \")]),_c('div',{staticClass:\"columns\"},[_c('div',{staticClass:\"column\"},[_c('p',[_vm._v(_vm._s(_vm.$t('settings.migrate.info.import')))]),_c('b-button',{staticClass:\"is-danger\",on:{\"click\":function($event){return _vm.migrate('import')}}},[_vm._v(\" \"+_vm._s(_vm.$t('settings.migrate.button.import'))+\" \")])],1),_c('div',{staticClass:\"column\"},[_c('p',[_vm._v(_vm._s(_vm.$t('settings.migrate.info.export')))]),_c('b-button',{staticClass:\"is-danger\",on:{\"click\":function($event){return _vm.migrate('export')}}},[_vm._v(\" \"+_vm._s(_vm.$t('settings.migrate.button.export'))+\" \")])],1)])]):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\r\nimport net from '@/modules/net'\r\nimport store from '@/modules/store'\r\nimport backend from '@/modules/backend'\r\n\r\nexport default {\r\n  name: 'Settings',\r\n  data () {\r\n    return {\r\n      store: store.state,\r\n      password: ''\r\n    }\r\n  },\r\n  computed: {\r\n    mode: store.getMode\r\n  },\r\n  methods: {\r\n    deleteAccount (event) {\r\n      backend.deleteAccount(this.password)\r\n    },\r\n    openPayments () {\r\n      this.$router.push('/payments')\r\n    },\r\n    migrate (migMode) {\r\n      backend.migrate(migMode)\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<template>\r\n  <div class=\"settings is-fullwidth\">\r\n    <section>\r\n      <b-field :label=\"$t('settings.delete.label.password')\">\r\n        <b-input\r\n          v-model=\"password\"\r\n          type=\"password\"\r\n          :placeholder=\"$t('settings.delete.placeholder.password')\"\r\n          password-reveal\r\n          required\r\n        />\r\n      </b-field>\r\n      <b-button\r\n        class=\"is-danger\"\r\n        @click=\"deleteAccount\"\r\n      >\r\n        {{ $t('settings.delete.label.delete') }}\r\n      </b-button>\r\n    </section>\r\n    <section>\r\n      <b-button\r\n        class=\"is-primary\"\r\n        @click=\"openPayments\"\r\n      >\r\n        {{ $t('settings.payments') }}\r\n      </b-button>\r\n    </section>\r\n    <section v-if=\"mode === 'online'\">\r\n      <p class=\"is-size-3\">\r\n        {{ $t('settings.migrate.title.import') }}\r\n      </p>\r\n      <div class=\"columns\">\r\n        <div class=\"column\">\r\n          <p>{{ $t('settings.migrate.info.import') }}</p>\r\n          <b-button\r\n            class=\"is-danger\"\r\n            @click=\"migrate('import')\"\r\n          >\r\n            {{ $t('settings.migrate.button.import') }}\r\n          </b-button>\r\n        </div>\r\n        <div class=\"column\">\r\n          <p>{{ $t('settings.migrate.info.export') }}</p>\r\n          <b-button\r\n            class=\"is-danger\"\r\n            @click=\"migrate('export')\"\r\n          >\r\n            {{ $t('settings.migrate.button.export') }}\r\n          </b-button>\r\n        </div>\r\n      </div>\r\n    </section>\r\n  </div>\r\n</template>\r\n\r\n<style></style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Settings.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Settings.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Settings.vue?vue&type=template&id=32a52bac&\"\nimport script from \"./Settings.vue?vue&type=script&lang=js&\"\nexport * from \"./Settings.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<script>\r\nimport Menu from '@/components/MainPage/Menu'\r\nimport TaskList from '@/components/MainPage/TaskList'\r\nimport Settings from '@/components/MainPage/Settings'\r\n\r\nimport store from '@/modules/store'\r\nimport backend from '@/modules/backend'\r\nimport auth from '@/modules/auth'\r\n\r\nexport default {\r\n  name: 'MainPage',\r\n  components: { Menu, TaskList, Settings },\r\n  data () {\r\n    return {\r\n      loading: false,\r\n      store: store.state,\r\n      error: null,\r\n      isActive: true\r\n    }\r\n  },\r\n  lists: {},\r\n  mounted: function () {\r\n    console.log('Mounted')\r\n    this.$nextTick(() => {\r\n      backend.initialLoad(this)\r\n    })\r\n  },\r\n  methods: {\r\n    open (link) {\r\n      this.$electron.shell.openExternal(link)\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<template>\r\n  <div class=\"main\">\r\n    <b-loading\r\n      :active=\"store.loading !== 0\"\r\n      :is-full-page=\"true\"\r\n      :can-cancel=\"false\"\r\n    />\r\n    <section class=\"main-layout\">\r\n      <Menu />\r\n      <div class=\"main-content\">\r\n        <TaskList v-if=\"store.view === 'tasks'\" />\r\n        <Settings v-if=\"store.view === 'settings'\" />\r\n      </div>\r\n    </section>\r\n  </div>\r\n</template>\r\n\r\n<style></style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MainPage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MainPage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MainPage.vue?vue&type=template&id=e411b928&\"\nimport script from \"./MainPage.vue?vue&type=script&lang=js&\"\nexport * from \"./MainPage.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { loadStripe } from '@stripe/stripe-js'\n\nclass Payments {\n    init = async () => {\n      this.stripe = await loadStripe('pk_test_9PEe48tGkcyxICp3juCtFr3M00fFSbjMnc')\n    }\n\n    goToCheckout = async token => {\n      const { error } = await this.stripe.redirectToCheckout({\n        sessionId: token\n      })\n      if (error) {\n        throw error.message\n      }\n    }\n\n    goToPortal = async url => {\n      // this is dangerous - lets set to only allow stripe redirects\n      window.location.replace(url)\n    }\n}\n\nexport default new Payments()\n","import vue from '@/main'\r\n\r\nimport net from '@/modules/net'\r\nimport store from '@/modules/store'\r\nimport router from '@/router'\r\nimport auth from '@/modules/auth'\r\nimport database from '@/modules/database'\r\nimport payments from '@/modules/payments'\r\n\r\nimport { ToastProgrammatic as Toast, ModalProgrammatic as Modal } from 'buefy'\r\n\r\nimport { v4 as uuidv4 } from 'uuid'\r\n\r\nclass Backend {\r\n  constructor () {\r\n    payments.init()\r\n    this.warnConsolePasting()\r\n  }\r\n\r\n  warnConsolePasting = () => {\r\n    console.warn('%cSTOP!', 'color:#000;background-color:#faa;font-size:20em')\r\n    console.warn('%cThe developer tools are intended for developers. If you have been told by someone to paste or type anything here, there is a 200% chance that they\\'re trying to scam you.', 'color: #000; font-size:x-large;')\r\n    console.warn('%cTo stay safe, close this side-bar. ', 'color:#000;font-size:xx-large;')\r\n    console.warn('%cIf you want to learn more, visit https://en.wikipedia.org/wiki/Self-XSS', 'color: #6; font-size:large;')\r\n  }\r\n\r\n  loadTasks = async () => {\r\n    try {\r\n      const newTasks = await database.getTasks()\r\n      const decryptedTasks = await auth.decryptArray(newTasks, null, auth.decryptObj)\r\n      store.setTasks(decryptedTasks)\r\n    } catch (err) {\r\n      console.warn(err)\r\n      this.showError(err)\r\n    }\r\n  }\r\n\r\n  loadLists = async () => {\r\n    try {\r\n      const newLists = await database.getLists()\r\n      const decryptedLists = await auth.decryptArray(newLists, null, auth.decryptObj)\r\n      store.setLists(decryptedLists)\r\n    } catch (err) {\r\n      console.warn(err)\r\n      this.showError(err)\r\n    }\r\n  }\r\n\r\n  newSubscription = async () => {\r\n    const token = await net.getNewSubscription()\r\n    const res = await this.stripe.redirectToCheckout({\r\n      sessionId: token\r\n    })\r\n    console.log(res)\r\n    if (res.error) {\r\n      console.log(res.error)\r\n      this.showError('error.payments')\r\n    }\r\n  }\r\n\r\n  sendKey = async () => {\r\n    console.log('Sending key')\r\n    const res = await auth.sendKey()\r\n    return res\r\n  }\r\n\r\n  fetchKey = async (code) => {\r\n    console.log('Getting key')\r\n    const res = await auth.fetchKey(code)\r\n    router.push('/')\r\n    return res\r\n  }\r\n\r\n  syncTasks = async () => {\r\n    await this.loadTasks()\r\n  }\r\n\r\n  initialLoad = async (mainRef) => {\r\n    try {\r\n      if (store.getMode() === 'local') {\r\n        store.addLoading(1)\r\n        if (auth.getEncryptionKey() === null) {\r\n          await auth.createEncryptionKey()\r\n        }\r\n      } else {\r\n        store.addLoading(1)\r\n      }\r\n\r\n      await database.sync()\r\n\r\n      // const userData = await net.getUserData()\r\n      // store.setUserData(userData)\r\n      await this.loadTasks()\r\n      await this.loadLists()\r\n      store.setList(null)\r\n      store.setMenuView('allLists')\r\n      store.setView('tasks')\r\n      store.addLoading(-1)\r\n    } catch (error) {\r\n      this.showError(error)\r\n      store.addLoading(-1)\r\n    }\r\n  }\r\n\r\n  deleteAccount = async (password) => {\r\n    try {\r\n      if (typeof password === 'string') { // TODO: Check with server\r\n        await net.deleteAccount()\r\n        this.logout()\r\n      } else {\r\n        throw 'err.deleteAccount.invalidpassword'\r\n      }\r\n    } catch (error) {\r\n      this.showError(error)\r\n    }\r\n  }\r\n\r\n  newTask = async (newTask) => {\r\n    try {\r\n      newTask.taskid = uuidv4()\r\n      newTask.listid = store.state.list\r\n      newTask.userid = net.getUserID()\r\n      store.addTask(newTask)\r\n      const encryptedTask = await auth.encryptObj(newTask)\r\n      await database.addTask(encryptedTask, true)\r\n    } catch (err) {\r\n      store.removeTask(newTask)\r\n      this.showError(err)\r\n    }\r\n  }\r\n\r\n  updateTask = async (newTask) => {\r\n    try {\r\n      const encryptedTask = await auth.encryptObj(newTask)\r\n      await database.updateTask(encryptedTask, true)\r\n    } catch (err) {\r\n      store.removeTask(newTask)\r\n      this.showError(err)\r\n    }\r\n  }\r\n\r\n  deleteTask = async (taskToDelete) => {\r\n    try {\r\n      store.removeTask(taskToDelete)\r\n      const encryptedTask = await auth.encryptObj(taskToDelete)\r\n      await database.deleteTask(taskToDelete, true)\r\n    } catch (err) {\r\n      store.addTask(taskToDelete)\r\n      this.showError(err)\r\n    }\r\n  }\r\n\r\n  deleteList = async (listToDelete) => {\r\n    try {\r\n      store.removeList(listToDelete)\r\n      const encryptedList = await auth.encryptObj(listToDelete)\r\n      await database.deleteList(listToDelete, true)\r\n    } catch (err) {\r\n      store.addList(listToDelete)\r\n      this.showError(err)\r\n    }\r\n  }\r\n\r\n  newList = async (newList) => {\r\n    try {\r\n      newList.listid = uuidv4()\r\n      newList.userid = net.getUserID()\r\n      store.addList(newList)\r\n      store.setList(newList.listid)\r\n      store.setMenuView(newList.listid)\r\n      store.setView('tasks')\r\n      const encryptedList = await auth.encryptObj(newList)\r\n      await database.addList(encryptedList, true)\r\n    } catch (err) {\r\n      this.showError(err)\r\n      store.removeList(newList)\r\n      store.viewBack()\r\n    }\r\n  }\r\n\r\n  setList = async (newList) => {\r\n    store.setList(newList)\r\n  }\r\n\r\n  login = async (user) => {\r\n    try {\r\n      const { username, password } = user\r\n      if (!username || !password) {\r\n        throw 'error.login.notfilled'\r\n      }\r\n      store.addLoading(1)\r\n      const clientEphemeralPublic = await auth.createEphemeral()\r\n      const { salt, serverEphemeralPublic } = await net.loginSalt(username, clientEphemeralPublic)\r\n      const clientSessionProof = await auth.createSession(username, password, salt, serverEphemeralPublic)\r\n      const { token, key } = await net.loginToken(username, clientSessionProof) // serverSessionProof\r\n\r\n      store.addLoading(-1)\r\n      if (token !== null) {\r\n        net.setToken(token)\r\n\r\n        await auth.setEncryptionKeyWithPass(password, key)\r\n        router.push('/')\r\n      } else {\r\n        this.showError('error.login.notoken')\r\n      }\r\n    } catch (err) {\r\n      this.showError(err)\r\n      store.addLoading(-1)\r\n    }\r\n  }\r\n\r\n  register = async (user) => {\r\n    try {\r\n      const { username, password } = user\r\n      if (!username || !password) throw 'error.register.notfilled'\r\n      store.addLoading(1)\r\n      const { salt, verifier } = await auth.createVerifier(username, password)\r\n      const token = await net.register(username, salt, verifier)\r\n      store.addLoading(-1)\r\n      if (token !== null) {\r\n        net.setToken(token)\r\n        await auth.createEncryptionKey()\r\n        const key = await auth.getEncryptionKeyWithPass(password)\r\n        await net.sendKey(key)\r\n        router.push('/')\r\n      } else {\r\n        this.showError('error.register.notoken')\r\n      }\r\n    } catch (err) {\r\n      this.showError(err)\r\n      store.addLoading(-1)\r\n    }\r\n  }\r\n\r\n  logout = async () => {\r\n    net.logout() // clear user token\r\n    store.setTasks([]) // clear data from memory\r\n    store.setLists([])\r\n    router.push('/') // go to login\r\n  }\r\n\r\n  showError = (error) => {\r\n    error = error.toString()\r\n    const msg = vue.$t(error)\r\n    Toast.open({\r\n      message: msg,\r\n      type: 'is-danger',\r\n      duration: 5000,\r\n      queue: false\r\n    })\r\n  }\r\n\r\n  paymentPortal = async () => {\r\n    try {\r\n      const url = await net.getPaymentPortal()\r\n      payments.goToPortal(url)\r\n    } catch (error) {\r\n      console.warn(error)\r\n      this.showError(error)\r\n    }\r\n  }\r\n\r\n  checkout = async () => {\r\n    try {\r\n      const session = await net.getCheckout()\r\n      payments.goToCheckout(session)\r\n    } catch (error) {\r\n      console.warn(error)\r\n      this.showError(error)\r\n    }\r\n  }\r\n\r\n  migrate = async (migMode) => {\r\n    var newTasks, newLists\r\n    if (migMode === 'import') {\r\n      // get old tasks\r\n      const oldTasks = await database.getTasks('local')\r\n      // reencrypt tasks with current key\r\n      newTasks = await auth.reencrypt('local', net.getUserID(), oldTasks, auth.encryptArray, auth.decryptArray)\r\n\r\n      // replace userid with new\r\n      newTasks = this.replaceArrayUserID(newTasks, net.getUserID())\r\n\r\n      // same with lists\r\n      const oldLists = await database.getLists('local')\r\n      newLists = await auth.reencrypt('local', net.getUserID(), oldLists, auth.encryptArray, auth.decryptArray)\r\n\r\n      newLists = this.replaceArrayUserID(newLists, net.getUserID())\r\n\r\n      await database.putArray(newTasks, 'tasks')\r\n      await database.putArray(newLists, 'lists')\r\n\r\n      await database.sync()\r\n      await this.initialLoad()\r\n    } else if (migMode === 'export') {\r\n      // add check and create encryptionkey for local if it doesn't exist\r\n\r\n      const oldTasks = await database.getTasks()\r\n      // reencrypt tasks with current key\r\n      newTasks = await auth.reencrypt(net.getUserID(), 'local', oldTasks, auth.encryptArray, auth.decryptArray)\r\n\r\n      // replace userid with new\r\n      newTasks = this.replaceArrayUserID(newTasks, 'local')\r\n\r\n      // same with lists\r\n      const oldLists = await database.getLists()\r\n      newLists = await auth.reencrypt(net.getUserID(), 'local', oldLists, auth.encryptArray, auth.decryptArray)\r\n\r\n      newLists = this.replaceArrayUserID(newLists, net.getUserID())\r\n\r\n      await database.putArray(newTasks, 'tasks')\r\n      await database.putArray(newLists, 'lists')\r\n    }\r\n  }\r\n\r\n  replaceArrayUserID = (array, newUserID) => {\r\n    const newArray = []\r\n    array.forEach(element => {\r\n      element.userid = newUserID\r\n      newArray.push(element)\r\n    })\r\n    return newArray\r\n  }\r\n}\r\n\r\nexport default new Backend()\r\n","var map = {\n\t\"./en.json\": \"edd4\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"49f8\";","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"is-flex has-direction-column is-viewport-height\",attrs:{\"id\":\"app\"}},[_c('router-view')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\nexport default { name: 'Ticked' }\n</script>\n\n<template>\n  <div\n    id=\"app\"\n    class=\"is-flex has-direction-column is-viewport-height\"\n  >\n    <router-view />\n  </div>\n</template>\n\n<style></style>\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=3263d5d6&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\nimport VueI18n from 'vue-i18n'\n\nVue.use(VueI18n)\n\nfunction loadLocaleMessages () {\n  const locales = require.context('./locales', true, /[A-Za-z0-9-_,\\s]+\\.json$/i)\n  const messages = {}\n  locales.keys().forEach(key => {\n    const matched = key.match(/([A-Za-z0-9-_]+)\\./i)\n    if (matched && matched.length > 1) {\n      const locale = matched[1]\n      messages[locale] = locales(key)\n    }\n  })\n  return messages\n}\n\nexport default new VueI18n({\n  locale: process.env.VUE_APP_I18N_LOCALE || 'en',\n  fallbackLocale: process.env.VUE_APP_I18N_FALLBACK_LOCALE || 'en',\n  messages: loadLocaleMessages()\n})\n","import '@mdi/font/css/materialdesignicons.css'\n\nimport Vue from 'vue'\nimport Buefy from 'buefy'\nimport App from './App.vue'\nimport router from './router'\nimport i18n from './i18n'\n\nimport './custom.scss'\n\nVue.config.productionTip = false\n\nVue.use(Buefy)\n\nexport default new Vue({\n  router,\n  i18n,\n  render: h => h(App)\n}).$mount('#app')\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{staticClass:\"section\"},[_c('p',{staticClass:\"has-text-centered is-size-2\"},[_vm._v(\" \"+_vm._s(_vm.$t('modeselect.title'))+\" \")]),_c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"columns\"},[_c('div',{staticClass:\"column is-half\"},[_c('article',{staticClass:\"box notification is-primary\"},[_c('div',{staticClass:\"buttons\"},[_c('b-button',{attrs:{\"type\":\"is-primary\",\"size\":\"is-large\",\"inverted\":\"\",\"expanded\":\"\"},on:{\"click\":function($event){return _vm.select('local')}}},[_vm._v(\" \"+_vm._s(_vm.$t('modeselect.button.local'))+\" \")])],1)])]),_c('div',{staticClass:\"column is-half\"},[_c('article',{staticClass:\"box notification is-info\"},[_c('div',{staticClass:\"buttons\"},[_c('b-button',{attrs:{\"type\":\"is-info\",\"size\":\"is-large\",\"inverted\":\"\",\"expanded\":\"\"},on:{\"click\":function($event){return _vm.select('online')}}},[_vm._v(\" \"+_vm._s(_vm.$t('modeselect.button.online'))+\" \")])],1)])])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\r\nimport store from '@/modules/store'\r\n\r\nexport default {\r\n  data () {\r\n    return {\r\n      selectedMode: 'login'\r\n    }\r\n  },\r\n  methods: {\r\n    async select (mode) {\r\n      store.setMode(mode)\r\n      this.$router.push('/')\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<template>\r\n  <section class=\"section\">\r\n    <p class=\"has-text-centered is-size-2\">\r\n      {{ $t('modeselect.title') }}\r\n    </p>\r\n    <div class=\"container\">\r\n      <div class=\"columns\">\r\n        <div class=\"column is-half\">\r\n          <article class=\"box notification is-primary\">\r\n            <div class=\"buttons\">\r\n              <b-button\r\n                type=\"is-primary\"\r\n                size=\"is-large\"\r\n                inverted\r\n                expanded\r\n                @click=\"select('local')\"\r\n              >\r\n                {{ $t('modeselect.button.local') }}\r\n              </b-button>\r\n            </div>\r\n          </article>\r\n        </div>\r\n        <div class=\"column is-half\">\r\n          <article class=\"box notification is-info\">\r\n            <div class=\"buttons\">\r\n              <b-button\r\n                type=\"is-info\"\r\n                size=\"is-large\"\r\n                inverted\r\n                expanded\r\n                @click=\"select('online')\"\r\n              >\r\n                {{ $t('modeselect.button.online') }}\r\n              </b-button>\r\n            </div>\r\n          </article>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </section>\r\n</template>\r\n\r\n<style></style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ModeSelect.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ModeSelect.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ModeSelect.vue?vue&type=template&id=620d38c4&\"\nimport script from \"./ModeSelect.vue?vue&type=script&lang=js&\"\nexport * from \"./ModeSelect.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Dexie from 'dexie'\n\nvar db = new Dexie('ticked-db')\n\ndb.version(1).stores({\n  tasks: '&taskid, userid, listid',\n  lists: '&listid, userid'\n})\n\nexport default db\n","import net from '@/modules/net'\r\nimport db from '@/modules/db-schema'\r\nimport store from '@/modules/store'\r\n\r\nconst updateFrequency = 5 // update frequency in minutes\r\n\r\nclass Database {\r\n  constructor () {\r\n    this.needsUpdate = true\r\n    this.updating = 1 // while loading db, contacting server or syncing\r\n    this.updateHandler = null\r\n    this.lastUpdateTime = 0\r\n    this.ready = true\r\n    if (store.getMode() === 'online') {\r\n      setInterval(this.checkUpdate, 5000)\r\n    }\r\n  }\r\n\r\n  checkUpdate = async () => {\r\n    if (!this.ready) return\r\n    if (this.needsUpdate) {\r\n      this.updating++\r\n      await this.sync()\r\n    } else if (this.getTime() - this.lastUpdateTime > 1000 * 60 * updateFrequency) {\r\n      await this.sync()\r\n    }\r\n  }\r\n\r\n  sync = async () => {\r\n    if (!this.ready) throw 'error.database.notready'\r\n    if (store.getMode() === 'online') {\r\n      try {\r\n        const tasks = await net.getTasks()\r\n        const lists = await net.getLists()\r\n        const ourTasks = await this.getTasks()\r\n        const ourLists = await this.getLists()\r\n        await this.syncTasks(ourTasks, tasks)\r\n        await this.syncLists(ourLists, lists)\r\n        if (this.updateHandler) {\r\n          this.updateHandler()\r\n        }\r\n        this.needsUpdate = false\r\n        this.updating = 0\r\n        this.lastUpdateTime = this.getTime()\r\n      } catch (error) {\r\n        console.error(error)\r\n      }\r\n    } else {\r\n      this.updating = 0\r\n      this.needsUpdate = false\r\n    }\r\n  }\r\n\r\n  syncTasks = async (ourArray, remoteArray) => {\r\n    if (!this.ready) throw 'error.database.notready'\r\n    if (ourArray) {\r\n      ourArray.forEach(ourTask => {\r\n        const theirTask = remoteArray.find(elem => {\r\n          return elem.userid === ourTask.userid && elem.taskid === ourTask.taskid\r\n        })\r\n        if (theirTask) {\r\n          if (theirTask.modified < ourTask.modified) {\r\n            net.updateTask(ourTask)\r\n          } else if (theirTask.modified > ourTask.modified) {\r\n            this.updateTask(theirTask)\r\n          } else if (theirTask.modified === ourTask.modified === undefined) {\r\n            this.updateTask(ourTask)\r\n          }\r\n        } else {\r\n          net.addTask(ourTask)\r\n        }\r\n      })\r\n    }\r\n\r\n    if (remoteArray) {\r\n      remoteArray.forEach(theirTask => {\r\n        if (ourArray) {\r\n          const ourTask = ourArray.find(elem => {\r\n            return elem.userid === theirTask.userid && elem.taskid === theirTask.taskid\r\n          })\r\n          if (!ourTask) {\r\n            this.addTask(theirTask)\r\n          }\r\n        } else {\r\n          this.addTask(theirTask)\r\n        }\r\n      })\r\n    }\r\n  }\r\n\r\n  syncLists = async (ourArray, remoteArray) => {\r\n    if (!this.ready) throw 'error.database.notready'\r\n    if (ourArray) {\r\n      ourArray.forEach(ourList => {\r\n        const theirList = remoteArray.find(elem => {\r\n          return elem.userid === ourList.userid && elem.listid === ourList.listid\r\n        })\r\n        if (theirList) {\r\n          if (theirList.modified < ourList.modified) {\r\n            net.updateList(ourList)\r\n          } else if (theirList.modified > ourList.modified) {\r\n            this.updateList(theirList)\r\n          } else if (theirList.modified === ourList.modified === undefined) {\r\n            this.updateList(ourList)\r\n          }\r\n        } else {\r\n          net.addList(ourList)\r\n        }\r\n      })\r\n    }\r\n\r\n    if (remoteArray) {\r\n      remoteArray.forEach(theirList => {\r\n        if (ourArray) {\r\n          const ourList = ourArray.find(elem => {\r\n            return elem.userid === theirList.userid && elem.listid === theirList.listid\r\n          })\r\n          if (!ourList) {\r\n            this.addList(theirList)\r\n          }\r\n        } else {\r\n          this.addList(theirList)\r\n        }\r\n      })\r\n    }\r\n  }\r\n\r\n  onUpdate = (handler) => {\r\n    this.updateHandler = handler\r\n  }\r\n\r\n  getTime = () => {\r\n    return Date.now()\r\n  }\r\n\r\n  getTasks = async (userid = net.getUserID()) => {\r\n    if (!this.ready) throw 'error.database.notready'\r\n    return db.tasks.where('userid').equals(userid).toArray()\r\n  }\r\n\r\n  getLists = async (userid = net.getUserID()) => {\r\n    if (!this.ready) throw 'error.database.notready'\r\n    return db.lists.where('userid').equals(userid).toArray()\r\n  }\r\n\r\n  deleteList = async (listToDelete, netUpdate = false) => {\r\n    this.updating++\r\n    try {\r\n      const newTask = { listid: listToDelete.taskid, userid: listToDelete.userid, deleted: true, modified: this.getTime() }\r\n      this.updateList(newTask)\r\n      if (netUpdate && store.getMode() === 'online') {\r\n        try {\r\n          await net.updateList(newTask)\r\n          this.updating--\r\n        } catch (error) {\r\n          this.needsUpdate = true\r\n          this.checkUpdate()\r\n        }\r\n      } else if (store.getMode() === 'local') {\r\n        this.updating--\r\n      }\r\n    } catch (error) {\r\n      console.warn(error)\r\n      throw 'error.database.deletetask'\r\n    }\r\n  }\r\n\r\n  deleteTask = async (taskToDelete, netUpdate = false) => {\r\n    this.updating++\r\n    if (!this.ready) throw 'error.database.notready'\r\n    try {\r\n      const newTask = { taskid: taskToDelete.taskid, userid: taskToDelete.userid, deleted: true, modified: this.getTime() }\r\n      this.updateTask(newTask)\r\n      if (netUpdate && store.getMode() === 'online') {\r\n        try {\r\n          await net.updateTask(newTask)\r\n          this.updating--\r\n        } catch (error) {\r\n          this.needsUpdate = true\r\n          this.checkUpdate()\r\n        }\r\n      } else if (store.getMode() === 'local') {\r\n        this.updating--\r\n      }\r\n    } catch (error) {\r\n      console.warn(error)\r\n      throw 'error.database.deletetask'\r\n    }\r\n  }\r\n\r\n  addTask = async (newTask, netUpdate = false) => {\r\n    this.updating++\r\n    if (!this.ready) throw 'error.database.notready'\r\n    try {\r\n      newTask.modified = this.getTime()\r\n      await db.tasks.add(newTask)\r\n      if (netUpdate && store.getMode() === 'online') {\r\n        try {\r\n          await net.addTask(newTask)\r\n          this.updating--\r\n        } catch (error) {\r\n          this.needsUpdate = true\r\n          this.checkUpdate()\r\n        }\r\n      } else if (store.getMode() === 'local') {\r\n        this.updating--\r\n      }\r\n    } catch (error) {\r\n      console.warn(error)\r\n      throw 'error.database.addtask'\r\n    }\r\n  }\r\n\r\n  updateTask = async (newTask, netUpdate = false) => {\r\n    this.updating++\r\n    if (!this.ready) throw 'error.database.notready'\r\n    try {\r\n      newTask.modified = this.getTime()\r\n      await db.tasks.put(newTask)\r\n      if (netUpdate && store.getMode() === 'online') {\r\n        try {\r\n          await net.updateTask(newTask)\r\n          this.updating--\r\n        } catch (error) {\r\n          this.needsUpdate = true\r\n          this.checkUpdate()\r\n        }\r\n      } else if (store.getMode() === 'local') {\r\n        this.updating--\r\n      }\r\n    } catch (error) {\r\n      console.warn(error)\r\n      throw 'error.database.updatetask'\r\n    }\r\n  }\r\n\r\n  addList = async (newList, netUpdate = false) => {\r\n    this.updating++\r\n    if (!this.ready) throw 'error.database.notready'\r\n    try {\r\n      newList.modified = this.getTime()\r\n      await db.lists.add(newList)\r\n      if (netUpdate && store.getMode() === 'online') {\r\n        try {\r\n          await net.addList(newList)\r\n          this.updating--\r\n        } catch (error) {\r\n          this.needsUpdate = true\r\n          this.checkUpdate()\r\n        }\r\n      } else if (store.getMode() === 'local') {\r\n        this.updating--\r\n      }\r\n    } catch (error) {\r\n      console.warn(error)\r\n      throw 'error.database.newlist'\r\n    }\r\n  }\r\n\r\n  putArray = async (newArray, target) => {\r\n    if (target === 'tasks') {\r\n      await db.tasks.bulkPut(newArray)\r\n    } else if (target === 'lists') {\r\n      await db.lists.bulkPut(newArray)\r\n    } else {\r\n      throw new Error('Invalid query to putarray - invalid target')\r\n    }\r\n  }\r\n}\r\n\r\nexport default new Database()\r\n","import Vue from 'vue'\r\nimport VueRouter from 'vue-router'\r\n\r\nimport net from '@/modules/net'\r\nimport store from '@/modules/store'\r\n\r\nVue.use(VueRouter)\r\n\r\nconst routes = [\r\n  {\r\n    path: '/login',\r\n    name: 'Login',\r\n    component: require('@/views/Login').default,\r\n    props: true\r\n  },\r\n  {\r\n    path: '/main',\r\n    name: 'Main',\r\n    component: require('@/views/MainPage').default,\r\n    props: true\r\n  },\r\n  {\r\n    path: '/payments',\r\n    name: 'Payments',\r\n    component: require('@/views/Payments').default,\r\n    props: true\r\n  },\r\n  {\r\n    path: '/modeSelect',\r\n    name: 'ModeSelect',\r\n    component: require('@/views/ModeSelect').default,\r\n    props: true\r\n  },\r\n  {\r\n    path: '/',\r\n    name: 'redirect',\r\n    redirect: to => {\r\n      const mode = store.getMode()\r\n      console.log(mode)\r\n      if (mode === 'online') {\r\n        if (net.isLoggedIn()) {\r\n          return {\r\n            name: 'Main'\r\n          }\r\n        } else {\r\n          return {\r\n            name: 'Login'\r\n          }\r\n        }\r\n      } else if (mode === 'local') {\r\n        return {\r\n          name: 'Main'\r\n        }\r\n      } else {\r\n        return {\r\n          name: 'ModeSelect'\r\n        }\r\n      }\r\n    }\r\n  }\r\n]\r\n\r\nconst router = new VueRouter({\r\n  mode: 'hash',\r\n  base: process.env.BASE_URL,\r\n  routes\r\n})\r\n\r\nexport default router\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"columns is-fullheight is-centered is-vcentered\"},[_c('a',{staticClass:\"login link modeselect\",on:{\"click\":_vm.modeSelect}},[_vm._v(\" \"+_vm._s(_vm.$t('login.link.modeselect'))+\" \")]),_c('div',{staticClass:\"is-login column is-half is-vcentered\"},[_c('b-loading',{attrs:{\"active\":_vm.store.loading !== 0,\"is-full-page\":true,\"can-cancel\":false}}),(_vm.error)?_c('b-notification',{attrs:{\"type\":\"is-danger\"}},[_vm._v(\" \"+_vm._s(_vm.$t(_vm.error))+\" \")]):_vm._e(),(_vm.mode === 'login')?_c('div',{on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.login($event)}}},[_c('b-field',{attrs:{\"label\":_vm.$t('login.label.user')}},[_c('b-input',{attrs:{\"type\":\"text\",\"placeholder\":_vm.$t('login.placeholder.user'),\"required\":\"\"},model:{value:(_vm.login_user),callback:function ($$v) {_vm.login_user=$$v},expression:\"login_user\"}})],1),_c('b-field',{attrs:{\"label\":_vm.$t('login.label.password')}},[_c('b-input',{attrs:{\"type\":\"password\",\"placeholder\":_vm.$t('login.placeholder.password'),\"password-reveal\":\"\",\"required\":\"\"},model:{value:(_vm.login_password),callback:function ($$v) {_vm.login_password=$$v},expression:\"login_password\"}})],1),_c('b-button',{attrs:{\"expanded\":\"\",\"type\":\"is-primary\"},on:{\"click\":_vm.login}},[_vm._v(\" \"+_vm._s(_vm.$t('login.label.login'))+\" \")]),_c('a',{on:{\"click\":function($event){return _vm.switchTo('register')}}},[_vm._v(\" \"+_vm._s(_vm.$t('login.link.register'))+\" \")])],1):_vm._e(),(_vm.mode === 'register')?_c('div',{on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.register($event)}}},[_c('b-field',{attrs:{\"label\":_vm.$t('register.label.username')}},[_c('b-input',{attrs:{\"type\":\"text\",\"placeholder\":_vm.$t('register.placeholder.username'),\"required\":\"\"},model:{value:(_vm.register_username),callback:function ($$v) {_vm.register_username=$$v},expression:\"register_username\"}})],1),_c('b-field',{attrs:{\"label\":_vm.$t('register.label.password')}},[_c('b-input',{attrs:{\"type\":\"password\",\"placeholder\":_vm.$t('register.placeholder.password'),\"password-reveal\":\"\",\"required\":\"\"},model:{value:(_vm.register_password),callback:function ($$v) {_vm.register_password=$$v},expression:\"register_password\"}})],1),_c('b-button',{attrs:{\"expanded\":\"\",\"type\":\"is-primary\"},on:{\"click\":_vm.register}},[_vm._v(\" \"+_vm._s(_vm.$t('register.label.register'))+\" \")]),_c('a',{on:{\"click\":function($event){return _vm.switchTo('login')}}},[_vm._v(\" \"+_vm._s(_vm.$t('register.link.login'))+\" \")])],1):_vm._e()],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\r\nimport net from '@/modules/net'\r\nimport store from '@/modules/store'\r\nimport backend from '@/modules/backend'\r\n\r\nexport default {\r\n  data () {\r\n    return {\r\n      login_user: '',\r\n      login_password: '',\r\n      register_username: '',\r\n      register_password: '',\r\n      register_email: '',\r\n      store: store.state,\r\n      mode: 'login',\r\n      error: ''\r\n    }\r\n  },\r\n  methods: {\r\n    async login () {\r\n      this.error = ''\r\n      try {\r\n        const returnError = await backend.login({\r\n          username: this.login_user,\r\n          password: this.login_password\r\n        })\r\n      } catch (error) {\r\n        this.error = error\r\n      }\r\n      this.clearForms()\r\n    },\r\n    async register () {\r\n      this.error = ''\r\n      try {\r\n        await backend.register({\r\n          password: this.register_password,\r\n          email: this.register_email,\r\n          username: this.register_username\r\n        })\r\n      } catch (error) {\r\n        this.error = error\r\n      }\r\n      this.clearForms()\r\n    },\r\n    switchTo (newMode) {\r\n      this.mode = newMode\r\n      this.error = null\r\n      this.clearForms()\r\n    },\r\n    clearForms () {\r\n      this.register_email = ''\r\n      this.register_password = ''\r\n      this.register_username = ''\r\n      this.login_user = ''\r\n      this.login_password = ''\r\n    },\r\n    modeSelect () {\r\n      this.$router.push('/modeSelect')\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<template>\r\n  <div class=\"columns is-fullheight is-centered is-vcentered\">\r\n    <a\r\n      class=\"login link modeselect\"\r\n      @click=\"modeSelect\"\r\n    >\r\n      {{ $t('login.link.modeselect') }}\r\n    </a>\r\n    <div\r\n      class=\"is-login column is-half is-vcentered\"\r\n    >\r\n      <b-loading\r\n        :active=\"store.loading !== 0\"\r\n        :is-full-page=\"true\"\r\n        :can-cancel=\"false\"\r\n      />\r\n      <b-notification\r\n        v-if=\"error\"\r\n        type=\"is-danger\"\r\n      >\r\n        {{ $t(error) }}\r\n      </b-notification>\r\n      <div\r\n        v-if=\"mode === 'login'\"\r\n        @keyup.enter=\"login\"\r\n      >\r\n        <b-field :label=\"$t('login.label.user')\">\r\n          <b-input\r\n            v-model=\"login_user\"\r\n            type=\"text\"\r\n            :placeholder=\"$t('login.placeholder.user')\"\r\n            required\r\n          />\r\n        </b-field>\r\n        <b-field :label=\"$t('login.label.password')\">\r\n          <b-input\r\n            v-model=\"login_password\"\r\n            type=\"password\"\r\n            :placeholder=\"$t('login.placeholder.password')\"\r\n            password-reveal\r\n            required\r\n          />\r\n        </b-field>\r\n        <b-button\r\n          expanded\r\n          type=\"is-primary\"\r\n          @click=\"login\"\r\n        >\r\n          {{ $t('login.label.login') }}\r\n        </b-button>\r\n        <a\r\n          @click=\"switchTo('register')\"\r\n        >\r\n          {{ $t('login.link.register') }}\r\n        </a>\r\n      </div>\r\n      <div\r\n        v-if=\"mode === 'register'\"\r\n        @keyup.enter=\"register\"\r\n      >\r\n        <b-field :label=\"$t('register.label.username')\">\r\n          <b-input\r\n            v-model=\"register_username\"\r\n            type=\"text\"\r\n            :placeholder=\"$t('register.placeholder.username')\"\r\n            required\r\n          />\r\n        </b-field>\r\n        <b-field :label=\"$t('register.label.password')\">\r\n          <b-input\r\n            v-model=\"register_password\"\r\n            type=\"password\"\r\n            :placeholder=\"$t('register.placeholder.password')\"\r\n            password-reveal\r\n            required\r\n          />\r\n        </b-field>\r\n        <b-button\r\n          expanded\r\n          type=\"is-primary\"\r\n          @click=\"register\"\r\n        >\r\n          {{ $t('register.label.register') }}\r\n        </b-button>\r\n        <a\r\n          @click=\"switchTo('login')\"\r\n        >\r\n          {{ $t('register.link.login') }}\r\n        </a>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<style></style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Login.vue?vue&type=template&id=0a226ba5&\"\nimport script from \"./Login.vue?vue&type=script&lang=js&\"\nexport * from \"./Login.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"tile is-ancestor main-content\"},[_c('div',{staticClass:\"tile is-parent is-vertical\"},[_c('article',{staticClass:\"tile is-child is-info box notification\",on:{\"click\":function($event){return _vm.openPortal()}}},[_c('p',{staticClass:\"title\"},[_vm._v(\" \"+_vm._s(_vm.$t('payments.portal'))+\" \")])]),_c('article',{staticClass:\"tile is-child notification box is-danger\",on:{\"click\":function($event){return _vm.back()}}},[_c('p',{staticClass:\"title\"},[_vm._v(\" \"+_vm._s(_vm.$t('payments.back'))+\" \")])])]),_c('div',{staticClass:\"tile is-parent\"},[_c('article',{staticClass:\"tile is-child is-success box notification\",on:{\"click\":function($event){return _vm.openCheckout()}}},[_c('p',{staticClass:\"title\"},[_vm._v(\" \"+_vm._s(_vm.$t('payments.checkout'))+\" \")])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\r\nimport backend from '@/modules/backend'\r\n\r\nexport default {\r\n  name: 'Payments',\r\n  components: { },\r\n  data () {\r\n    return {\r\n    }\r\n  },\r\n  methods: {\r\n    openPortal () {\r\n      backend.paymentPortal()\r\n    },\r\n    openCheckout () {\r\n      backend.checkout()\r\n    },\r\n    back () {\r\n      this.$router.push('/main')\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<template>\r\n  <div class=\"tile is-ancestor main-content\">\r\n    <div class=\"tile is-parent is-vertical\">\r\n      <article\r\n        class=\"tile is-child is-info box notification\"\r\n        @click=\"openPortal()\"\r\n      >\r\n        <p class=\"title\">\r\n          {{ $t('payments.portal') }}\r\n        </p>\r\n      </article>\r\n      <article\r\n        class=\"tile is-child notification box is-danger\"\r\n        @click=\"back()\"\r\n      >\r\n        <p class=\"title\">\r\n          {{ $t('payments.back') }}\r\n        </p>\r\n      </article>\r\n    </div>\r\n    <div class=\"tile is-parent\">\r\n      <article\r\n        class=\"tile is-child is-success box notification\"\r\n        @click=\"openCheckout()\"\r\n      >\r\n        <p class=\"title\">\r\n          {{ $t('payments.checkout') }}\r\n        </p>\r\n      </article>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<style></style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Payments.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Payments.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Payments.vue?vue&type=template&id=06a36be4&\"\nimport script from \"./Payments.vue?vue&type=script&lang=js&\"\nexport * from \"./Payments.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import jwtDecode from 'jwt-decode'\r\nimport axios from 'axios'\r\nimport store from '@/modules/store'\r\n\r\nconst server = process.env.VUE_APP_API_SERVER\r\n\r\nclass Net {\r\n  constructor () {\r\n    this.server = server\r\n  }\r\n\r\n  loginSalt = async (username, clientEphemeralPublic) => {\r\n    if (username && clientEphemeralPublic) {\r\n      var res\r\n      try {\r\n        res = await this.post('/login/salt', {\r\n          data: {\r\n            username: username,\r\n            clientEphemeralPublic: clientEphemeralPublic\r\n          }\r\n        })\r\n      } catch (err) {\r\n        console.error(err)\r\n        throw 'error.neterror'\r\n      }\r\n      if (res.data.success) {\r\n        return res.data\r\n      } else {\r\n        throw res.data.err\r\n      }\r\n    } else {\r\n      throw 'error.login.invalidquery'\r\n    }\r\n  }\r\n\r\n  loginToken = async (username, clientSessionProof) => {\r\n    if (username && clientSessionProof) {\r\n      var res\r\n      try {\r\n        res = await this.post('/login/token', {\r\n          data: {\r\n            username: username,\r\n            clientSessionProof: clientSessionProof\r\n          }\r\n        })\r\n      } catch (err) {\r\n        console.error(err)\r\n        throw 'error.neterror'\r\n      }\r\n      if (res.data.success) {\r\n        return res.data\r\n      } else {\r\n        throw res.data.err\r\n      }\r\n    } else {\r\n      throw 'error.login.invalidquery'\r\n    }\r\n  }\r\n\r\n  register = async (username, salt, verifier) => {\r\n    if (username && salt && verifier) {\r\n      var res\r\n      try {\r\n        res = await this.post('/register', {\r\n          data: {\r\n            username,\r\n            salt,\r\n            verifier\r\n          }\r\n        })\r\n      } catch (err) {\r\n        console.error(err)\r\n        throw 'error.neterror'\r\n      }\r\n      if (res.data.success) {\r\n        return res.data.token\r\n      } else {\r\n        throw res.data.err\r\n      }\r\n    } else {\r\n      throw 'error.login.invalidquery'\r\n    }\r\n  }\r\n\r\n  getToken = () => {\r\n    return localStorage.getItem('token')\r\n  }\r\n\r\n  setToken = newToken => {\r\n    if (newToken) {\r\n      return localStorage.setItem('token', newToken)\r\n    } else {\r\n      return localStorage.removeItem('token')\r\n    }\r\n  }\r\n\r\n  isLoggedIn = () => {\r\n    const token = this.getToken()\r\n    if (token && !this.isExpired(token)) {\r\n      return true\r\n    } else {\r\n      return false\r\n    }\r\n  }\r\n\r\n  getUserID = () => {\r\n    if (store.getMode() === 'online') {\r\n      const token = this.getToken()\r\n      const decodedJWT = jwtDecode(token)\r\n      return decodedJWT.userid\r\n    } else {\r\n      return 'local'\r\n    }\r\n  }\r\n\r\n  logout = () => {\r\n    this.setToken(null)\r\n    return true\r\n  }\r\n\r\n  isExpired = token => {\r\n    const decodedJWT = jwtDecode(token)\r\n    return decodedJWT.exp < Date.now() / 1000\r\n  }\r\n\r\n  post = async (apiAddress, options) => {\r\n    const headers = {\r\n      Accept: 'application/json',\r\n      'Content-Type': 'application/json'\r\n    }\r\n    if (this.isLoggedIn()) {\r\n      headers.Authorization = 'Bearer ' + this.getToken()\r\n    }\r\n    try {\r\n      const res = await axios({\r\n        baseURL: this.server,\r\n        method: 'post',\r\n        url: apiAddress,\r\n        headers: headers,\r\n        ...options\r\n      })\r\n      return res\r\n    } catch (error) {\r\n      console.error(error)\r\n      throw 'error.neterror'\r\n    }\r\n  }\r\n\r\n  get = async (apiAddress, options) => {\r\n    const headers = {\r\n      Accept: 'application/json',\r\n      'Content-Type': 'application/json'\r\n    }\r\n    if (this.isLoggedIn()) {\r\n      headers.Authorization = 'Bearer ' + this.getToken()\r\n    }\r\n    try {\r\n      const res = await axios({\r\n        baseURL: this.server,\r\n        method: 'get',\r\n        url: apiAddress,\r\n        headers: headers,\r\n        ...options\r\n      })\r\n      return res\r\n    } catch (error) {\r\n      console.error(error)\r\n      throw 'error.neterror'\r\n    }\r\n  }\r\n\r\n  updateTask = async newTask => {\r\n    var res\r\n    try {\r\n      res = await this.post('/updateTask', {\r\n        data: newTask\r\n      })\r\n    } catch (error) {\r\n      console.error(error)\r\n      throw 'error.neterror'\r\n    }\r\n    if (res.data.success) {\r\n      return true\r\n    } else {\r\n      throw res.data.err\r\n    }\r\n  }\r\n\r\n  addTask = async (newTask) => {\r\n    var res\r\n    try {\r\n      res = await this.post('/newTask', {\r\n        data: newTask\r\n      })\r\n    } catch (error) {\r\n      console.error(error)\r\n      throw 'error.neterror'\r\n    }\r\n    if (res.data.success) {\r\n      return true\r\n    } else {\r\n      throw res.data.err\r\n    }\r\n  }\r\n\r\n  addList = async (newList) => {\r\n    var res\r\n    try {\r\n      res = await this.post('/newList', {\r\n        data: newList\r\n      })\r\n    } catch (error) {\r\n      console.error(error)\r\n      throw 'error.neterror'\r\n    }\r\n    if (res.data.success) {\r\n      return true\r\n    } else {\r\n      throw res.data.err\r\n    }\r\n  }\r\n\r\n  getUserData = async () => {\r\n    var res\r\n    try {\r\n      res = await this.post('/getUserData')\r\n    } catch (error) {\r\n      console.error(error)\r\n      throw 'error.neterror'\r\n    }\r\n    if (res.data.success) {\r\n      return res.data\r\n    } else {\r\n      throw res.data.error\r\n    }\r\n  }\r\n\r\n  getLists = async () => {\r\n    const res = await this.post('/getLists')\r\n    if (res.data.success) {\r\n      return res.data.lists\r\n    } else {\r\n      throw res.data.err\r\n    }\r\n  }\r\n\r\n  getTasks = async () => {\r\n    const res = await this.post('/getTask/all')\r\n    if (res.data.success) {\r\n      return res.data.tasks\r\n    } else {\r\n      throw res.data.err\r\n    }\r\n  }\r\n\r\n  deleteAccount = async () => {\r\n    var res\r\n    try {\r\n      res = await this.post('/deleteAccount')\r\n    } catch (error) {\r\n      throw 'err.neterror'\r\n    }\r\n    if (res.data.success) {\r\n      return true\r\n    } else {\r\n      throw res.data.err\r\n    }\r\n  }\r\n\r\n  getCheckout = async () => {\r\n    var res\r\n    try {\r\n      res = await this.get('/newSubscription')\r\n    } catch (error) {\r\n      throw 'err.neterror'\r\n    }\r\n    if (res.data.success) {\r\n      return res.data.token\r\n    } else {\r\n      throw res.data.err\r\n    }\r\n  }\r\n\r\n  getPaymentPortal = async () => {\r\n    var res\r\n    try {\r\n      res = await this.get('/manageSubscription')\r\n    } catch (error) {\r\n      throw 'err.neterror'\r\n    }\r\n    if (res.data.success) {\r\n      return res.data.url\r\n    } else {\r\n      throw res.data.err\r\n    }\r\n  }\r\n\r\n  sendKey = async (key) => {\r\n    if (key) {\r\n      var res\r\n      try {\r\n        res = await this.post('/datakey/set', {\r\n          data: {\r\n            key\r\n          }\r\n        })\r\n      } catch (err) {\r\n        console.error(err)\r\n        throw 'error.neterror'\r\n      }\r\n      if (!res.data.success) {\r\n        throw res.data.error\r\n      }\r\n    } else {\r\n      throw 'error.sendkey.invalidquery'\r\n    }\r\n  }\r\n}\r\n\r\nexport default new Net()\r\n","import aes256 from 'aes256'\r\nimport srp from 'secure-remote-password/client'\r\nimport pbkdf2Lib from 'pbkdf2'\r\nimport randomBytes from 'randombytes'\r\n\r\nimport net from '@/modules/net'\r\n\r\nclass Auth {\r\n  constructor () {\r\n    this.clientEphemeral = null\r\n    this.clientSession = null\r\n  }\r\n\r\n  reencrypt = async (olduser, newuser, input, encryptor = this.encrypt, decryptor = this.decrypt) => {\r\n    try {\r\n    // get encryption keys\r\n      const oldKey = this.getEncryptionKey(olduser)\r\n      const newKey = this.getEncryptionKey(newuser)\r\n\r\n      // re-encrypt with new key\r\n      const decrypted = await decryptor(input, oldKey, this.decryptObj)\r\n      const encrypted = await encryptor(decrypted, newKey, this.encryptObj)\r\n      return encrypted\r\n    } catch (err) {\r\n      console.error(err)\r\n      throw new Error('auth.reencrypt')\r\n    }\r\n  }\r\n\r\n  createEncryptionKey = async (userid = net.getUserID()) => {\r\n    try {\r\n      const buf = await getRandomBytes(64)\r\n      const key = buf.toString('base64')\r\n      this.setEncryptionKey(key, userid)\r\n    } catch (error) {\r\n      console.error(error)\r\n      throw 'error.auth.datakey.create'\r\n    }\r\n  }\r\n\r\n  getEncryptionKey = (userid = net.getUserID()) => {\r\n    return localStorage.getItem(`key_${userid}`)\r\n  }\r\n\r\n  setEncryptionKey = (key, userid = net.getUserID()) => {\r\n    return localStorage.setItem(`key_${userid}`, key)\r\n  }\r\n\r\n  getEncryptionKeyWithPass = async pass => {\r\n    try {\r\n      const decrypted = await this.getEncryptionKey()\r\n      const encrypted = await aes256.encrypt(pass, decrypted)\r\n      return encrypted\r\n    } catch (error) {\r\n      console.error(error)\r\n      throw 'error.auth.datakey'\r\n    }\r\n  }\r\n\r\n  setEncryptionKeyWithPass = async (pass, encrypted) => {\r\n    try {\r\n      const key = await aes256.decrypt(pass, encrypted)\r\n      this.setEncryptionKey(key)\r\n    } catch (error) {\r\n      console.error(error)\r\n      throw 'error.auth.datakey'\r\n    }\r\n  }\r\n\r\n  createVerifier = async (username, password) => {\r\n    try {\r\n      const salt = srp.generateSalt()\r\n      const privateKey = await this.getPrivateKey(username, password, salt)\r\n      const verifier = srp.deriveVerifier(privateKey)\r\n      return { verifier, salt }\r\n    } catch (error) {\r\n      console.error(error)\r\n      throw 'error.auth.createVerifier'\r\n    }\r\n  }\r\n\r\n  getPrivateKey = async (username, password, salt) => {\r\n    try {\r\n      const secret = `${username}:${password}`\r\n      const keyBuf = await pbkdf2(secret, salt, 20000, 64, 'sha512')\r\n      const privateKey = keyBuf.toString('hex')\r\n      return privateKey\r\n    } catch (error) {\r\n      console.error(error)\r\n      throw 'error.auth.privateKey'\r\n    }\r\n  }\r\n\r\n  createEphemeral = async () => {\r\n    this.clientEphemeral = srp.generateEphemeral()\r\n    return this.clientEphemeral.public\r\n  }\r\n\r\n  createSession = async (username, password, salt, serverEphemeralPublic) => {\r\n    const privateKey = await this.getPrivateKey(username, password, salt)\r\n    this.clientSession = await srp.deriveSession(this.clientEphemeral.secret, serverEphemeralPublic, salt, username, privateKey)\r\n    return this.clientSession.proof\r\n  }\r\n\r\n  // Base encrypt\r\n  encrypt = async (data, key) => {\r\n    try {\r\n      if (!key) key = this.getEncryptionKey()\r\n      data = JSON.stringify(data)\r\n      const encrypted = await aes256.encrypt(key, data)\r\n      return encrypted\r\n    } catch (error) {\r\n      console.warn(error)\r\n      throw 'error.auth.encrypterror'\r\n    }\r\n  }\r\n\r\n  // Base decrypt\r\n  decrypt = async (data, key) => {\r\n    try {\r\n      if (!key) key = this.getEncryptionKey()\r\n      console.log(key)\r\n      const decrypted = await aes256.decrypt(key, data)\r\n      console.log(decrypted)\r\n      return JSON.parse(decrypted)\r\n    } catch (error) {\r\n      console.warn(error)\r\n      throw 'error.auth.decrypterror'\r\n    }\r\n  }\r\n\r\n  // Decrypt array with specified decryptor function\r\n  decryptArray = async (dataArray, key, decryptor = this.decrypt) => {\r\n    var decryptedArray = []\r\n    if (dataArray) {\r\n      for await (const element of dataArray) {\r\n        const decrypted = await decryptor(element, key)\r\n        decryptedArray.push(decrypted)\r\n      }\r\n    }\r\n    return decryptedArray\r\n  }\r\n\r\n  // Encrypt array with specified encryptor function\r\n  encryptArray = async (dataArray, key, encryptor = this.decrypt) => {\r\n    var encryptedArray = []\r\n    if (dataArray) {\r\n      for await (const element of dataArray) {\r\n        const decrypted = await encryptor(element, key)\r\n        encryptedArray.push(decrypted)\r\n      }\r\n    }\r\n    return encryptedArray\r\n  }\r\n\r\n  decryptObj = async (obj, key) => {\r\n    var newObj = {}\r\n    if (!obj) {\r\n      throw 'error.auth.decrypterror'\r\n    }\r\n    for (const [prop, value] of Object.entries(obj)) {\r\n      if (!['taskid', 'listid', 'userid', 'deleted', 'modified'].includes(prop)) {\r\n        if (value) {\r\n          newObj[prop] = await this.decrypt(value, key)\r\n        } else {\r\n          newObj[prop] = null\r\n        }\r\n      } else {\r\n        newObj[prop] = value\r\n      }\r\n    }\r\n    return newObj\r\n  }\r\n\r\n  encryptObj = async (obj, key) => {\r\n    var newObj = {}\r\n    if (!obj) {\r\n      throw 'error.auth.encrypterror'\r\n    }\r\n    for (const [prop, value] of Object.entries(obj)) {\r\n      if (!['taskid', 'listid', 'userid', 'deleted', 'modified'].includes(prop)) {\r\n        if (value) {\r\n          newObj[prop] = await this.encrypt(value, key)\r\n        } else {\r\n          newObj[prop] = null\r\n        }\r\n      } else {\r\n        newObj[prop] = value\r\n      }\r\n    }\r\n    return newObj\r\n  }\r\n}\r\n\r\nfunction getRandomBytes (bytes = 128) { // returns promise\r\n  return new Promise((resolve, reject) => {\r\n    randomBytes(bytes, function (err, buffer) {\r\n      if (err) {\r\n        reject(err)\r\n      }\r\n      resolve(buffer)\r\n    })\r\n  })\r\n}\r\n\r\nfunction pbkdf2 (secret, salt, iterations, keylen, algorithm) { // returns promise\r\n  return new Promise((resolve, reject) => {\r\n    pbkdf2Lib.pbkdf2(secret, salt, iterations, keylen, algorithm, function (err, derKey) {\r\n      if (err) {\r\n        console.error(err)\r\n        reject(err)\r\n      }\r\n      resolve(derKey)\r\n    })\r\n  })\r\n}\r\n\r\nexport default new Auth()\r\n"],"sourceRoot":""}